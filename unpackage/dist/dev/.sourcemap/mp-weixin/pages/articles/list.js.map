{"version":3,"file":"list.js","sources":["pages/articles/list.vue","E:/movie/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYXJ0aWNsZXMvbGlzdC52dWU"],"sourcesContent":["<template>\n    <view class=\"\">\r\n        <view class=\"item\" v-for=\"(item,index) in listData\" :key=\"item._id\">\r\n            <view>标题：{{item.title}}</view>\r\n            <view>内容：{{item.content}}</view>\r\n            <view>发布者：{{item?.user_id[0]?.nickname || \"未命名\"}}</view>\r\n        </view>\r\n    </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\n\nconst db = uniCloud.database();\r\nconst listData = ref([])\r\n\r\nconsole.log(uniCloud.getCurrentUserInfo().uid);\r\n\r\n\r\nconst getData = async()=>{ \r\n   try{\r\n       //链表查询 jql云端环境 $cloudEnv_uid == uid 为当前用户的uid\r\n       let artTemp = db.collection(\"demo-articles\").where('user_id == $cloudEnv_uid ').getTemp();\r\n       let userTemp = db.collection(\"uni-id-users\").field(\"nickname,_id,username\").getTemp();\r\n       //赋值\r\n       let {result:{data}} = await db.collection(artTemp,userTemp).get();\r\n       listData.value = data; \r\n       console.log(data);\r\n   }catch(err){\r\n       uni.showModal({\r\n           content:\"未登录，将跳转至登录页面\",\r\n           showCancel:false\r\n       })\r\n   }\r\n}\r\ngetData();\n\n</script>\n\n<style lang=\"scss\" scoped>\n.item{\r\n    padding: 30rpx;\r\n   border-bottom: 1px solid #eee; \r\n}\n</style>\n","import MiniProgramPage from 'D:/uni-app/uniCloudDemo0717/pages/articles/list.vue'\nwx.createPage(MiniProgramPage)"],"names":["uniCloud","ref","uni"],"mappings":";;;;;AAaA,UAAM,KAAKA,cAAAA,GAAS;AACpB,UAAM,WAAWC,cAAG,IAAC,EAAE;AAEvBC,kBAAAA,MAAA,MAAA,OAAA,iCAAYF,cAAQ,GAAC,mBAAkB,EAAG,GAAG;AAG7C,UAAM,UAAU,YAAS;AACtB,UAAG;AAEC,YAAI,UAAU,GAAG,WAAW,eAAe,EAAE,MAAM,2BAA2B,EAAE;AAChF,YAAI,WAAW,GAAG,WAAW,cAAc,EAAE,MAAM,uBAAuB,EAAE;AAE5E,YAAI,EAAC,QAAO,EAAC,KAAI,EAAC,IAAI,MAAM,GAAG,WAAW,SAAQ,QAAQ,EAAE,IAAG;AAC/D,iBAAS,QAAQ;AACjBE,sBAAAA,MAAY,MAAA,OAAA,iCAAA,IAAI;AAAA,MACnB,SAAM,KAAI;AACPA,sBAAAA,MAAI,UAAU;AAAA,UACV,SAAQ;AAAA,UACR,YAAW;AAAA,QACtB,CAAQ;AAAA,MACJ;AAAA,IACJ;AACA;;;;;;;;;;;;;;;;;AClCA,GAAG,WAAW,eAAe;"}