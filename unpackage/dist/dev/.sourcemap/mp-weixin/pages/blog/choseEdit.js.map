{"version":3,"file":"choseEdit.js","sources":["pages/blog/choseEdit.vue","E:/movie/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYmxvZy9jaG9zZUVkaXQudnVl"],"sourcesContent":["<template>\n    <view class=\"choose-edit\">\n    \n\n        <!-- ÂÜÖÂÆπÂå∫Âüü -->\n        <view class=\"content\">\n            <!-- ÂÆö‰Ωç‰ø°ÊÅØ -->\n            <view class=\"location-section\">\n                <view class=\"location-header\">\n                    <uni-icons type=\"location-filled\" size=\"20\" color=\"#4F8BFF\"></uni-icons>\n                    <text class=\"location-title\">ÂΩìÂâçÂÆö‰Ωç</text>\n                    <view class=\"location-actions\">\n                        <text class=\"location-refresh\" @click=\"getCurrentLocation\">\n                            {{ locationLoading ? 'ÂÆö‰Ωç‰∏≠...' : 'Âà∑Êñ∞ÂÆö‰Ωç' }}\n                        </text>\n                        <text class=\"location-choose\" @click=\"openCityPicker\">\n                            ÈÄâÊã©‰ΩçÁΩÆ\n                        </text>\n                    </view>\n                </view>\n                <view class=\"location-info\">\n                    <text class=\"address\">{{ currentAddress || 'Ê≠£Âú®Ëé∑Âèñ‰ΩçÁΩÆ...' }}</text>\n                    <text class=\"location-type\" v-if=\"locationType\">\n                        {{ locationType }}\n                    </text>\n                </view>\n            </view>\n\n            <!-- ÂüéÂ∏ÇÈÄâÊã©Âô® -->\n            <uni-popup ref=\"cityPopup\" type=\"bottom\" background-color=\"#fff\">\n                <view class=\"city-picker\">\n                    <view class=\"picker-header\">\n                        <text class=\"picker-title\">ÈÄâÊã©‰ΩçÁΩÆ</text>\n                        <view class=\"picker-close\" @click=\"closeCityPicker\">\n                            <uni-icons type=\"close\" size=\"20\" color=\"#999\"></uni-icons>\n                        </view>\n                    </view>\n                    <view class=\"picker-content\">\n                        <!-- ÁÉ≠Èó®ÂüéÂ∏Ç -->\n                        <view class=\"city-section\">\n                            <view class=\"section-title\">ÁÉ≠Èó®ÂüéÂ∏Ç</view>\n                            <view class=\"city-tags\">\n                                <text \n                                    v-for=\"city in hotCities\" \n                                    :key=\"city.code\"\n                                    class=\"city-tag\"\n                                    :class=\"{ active: selectedCity.code === city.code }\"\n                                    @click=\"selectCity(city)\"\n                                >\n                                    {{ city.name }}\n                                </text>\n                            </view>\n                        </view>\n                        \n                        <!-- ÂΩìÂâçÂÆö‰ΩçÂüéÂ∏Ç -->\n                        <view class=\"city-section\" v-if=\"currentAddress && currentAddress.includes('Ê≥âÂ∑û')\">\n                            <view class=\"section-title\">ÂΩìÂâçÂüéÂ∏Ç</view>\n                            <view class=\"city-tags\">\n                                <text \n                                    class=\"city-tag active\"\n                                    @click=\"selectCurrentCity\"\n                                >\n                                    Ê≥âÂ∑ûÂ∏Ç\n                                </text>\n                                <text \n                                    class=\"city-tag\"\n                                    @click=\"selectCity({ code: '350581', name: 'Áü≥ÁãÆÂ∏Ç' })\"\n                                >\n                                    Áü≥ÁãÆÂ∏Ç\n                                </text>\n                                <text \n                                    class=\"city-tag\"\n                                    @click=\"selectCity({ code: '350582', name: 'ÊôãÊ±üÂ∏Ç' })\"\n                                >\n                                    ÊôãÊ±üÂ∏Ç\n                                </text>\n                            </view>\n                        </view>\n                    </view>\n                    <view class=\"picker-footer\">\n                        <button class=\"confirm-btn\" @click=\"confirmCitySelection\">\n                            Á°ÆËÆ§ÈÄâÊã©\n                        </button>\n                    </view>\n                </view>\n            </uni-popup>\n\n            <!-- ÊêúÁ¥¢Ê°Ü -->\n            <view class=\"search-section\">\n                <view class=\"search-box\" @click=\"focusSearch\">\n                    <uni-icons type=\"search\" size=\"18\" color=\"#999\" class=\"search-icon\"></uni-icons>\n                    <input \n                        class=\"search-input\" \n                        placeholder=\"ÊêúÁ¥¢Â∫óÈì∫ÂêçÁß∞...\" \n                        v-model=\"searchKeyword\"\n                        @input=\"onSearchInput\"\n                        :focus=\"isSearchFocus\"\n                        @blur=\"isSearchFocus = false\"\n                    />\n                    <view \n                        v-if=\"searchKeyword\" \n                        class=\"clear-btn\" \n                        @click=\"clearSearch\"\n                    >\n                        <uni-icons type=\"clear\" size=\"16\" color=\"#999\"></uni-icons>\n                    </view>\n                </view>\n            </view>\n\n            <!-- Â∫óÈì∫ÂàóË°® -->\n            <view class=\"shops-section\">\n                <view class=\"section-header\">\n                    <text class=\"section-title\">\n                        {{ isSearching ? 'ÊêúÁ¥¢ÁªìÊûú' : 'Êé®ËçêÂ∫óÈì∫' }}\n                    </text>\n                    <text class=\"section-desc\" v-if=\"selectedCity.name && !isSearching\">\n                        ‚Ä¢ ÂΩìÂâçÊòæÁ§∫ {{ selectedCity.name }} ÁöÑÂ∫óÈì∫\n                    </text>\n                    <text class=\"section-desc\" v-if=\"isSearching && shopsList.length > 0\">\n                        ‚Ä¢ ÊâæÂà∞ {{ shopsList.length }} ‰∏™Â∫óÈì∫\n                    </text>\n                </view>\n                \n                <!-- Âä†ËΩΩÁä∂ÊÄÅ -->\n                <view v-if=\"shopsLoading\" class=\"loading-shops\">\n                    <view v-for=\"i in 3\" :key=\"i\" class=\"shop-skeleton\">\n                        <view class=\"skeleton-avatar\"></view>\n                        <view class=\"skeleton-info\">\n                            <view class=\"skeleton-name\"></view>\n                            <view class=\"skeleton-address\"></view>\n                        </view>\n                    </view>\n                </view>\n\n                <!-- Á©∫Áä∂ÊÄÅ -->\n                <view v-else-if=\"shopsList.length === 0\" class=\"empty-shops\">\n                    <view class=\"empty-icon\">üè™</view>\n                    <text class=\"empty-text\" v-if=\"isSearching\">\n                        Ê≤°ÊúâÊâæÂà∞Áõ∏ÂÖ≥Â∫óÈì∫\n                    </text>\n                    <text class=\"empty-text\" v-else>\n                        ÊöÇÊó†Â∫óÈì∫Êï∞ÊçÆ\n                    </text>\n                    <text class=\"empty-desc\">ËØ∑Â∞ùËØïÂàáÊç¢‰ΩçÁΩÆÊàñÊêúÁ¥¢ÂÖ∂‰ªñÂ∫óÈì∫</text>\n                    <button class=\"empty-btn\" @click=\"openCityPicker\">\n                        ÂàáÊç¢‰ΩçÁΩÆ\n                    </button>\n                </view>\n\n                <!-- Â∫óÈì∫ÂàóË°® -->\n                <view v-else class=\"shops-list\">\n                    <view\n                        v-for=\"shop in shopsList\"\n                        :key=\"shop._id\"\n                        class=\"shop-item\"\n                        @click=\"selectShop(shop)\"\n                    >\n                        <view class=\"shop-left\">\n                            <image \n                                class=\"shop-avatar\" \n                                :src=\"shop.shopPic || '/static/default-shop.jpg'\" \n                                mode=\"aspectFill\"\n                                @error=\"handleShopAvatarError\"\n                            />\n                            <view class=\"shop-info\">\n                                <text class=\"shop-name\">{{ shop.shopName }}</text>\n                                <text class=\"shop-address\">{{ shop.address || 'ÊöÇÊó†Âú∞ÂùÄ‰ø°ÊÅØ' }}</text>\n                                <view class=\"shop-meta\">\n                                    <text class=\"shop-rating\" v-if=\"shop.rating > 0\">\n                                        <text class=\"rating-star\">‚òÖ</text>\n                                        <text class=\"rating-value\">{{ (shop.rating / 10).toFixed(1) }}</text>\n                                    </text>\n                                    <text class=\"distance\" v-if=\"shop.distance && !isSearching\">\n                                        {{ shop.distance }}km\n                                    </text>\n                                </view>\n                            </view>\n                        </view>\n                        <view class=\"shop-right\">\n                            <uni-icons type=\"right\" size=\"18\" color=\"#ccc\"></uni-icons>\n                        </view>\n                    </view>\n                </view>\n            </view>\n        </view>\n\n        <!-- Â∫ïÈÉ®ÊèêÁ§∫ -->\n        <view class=\"footer-tips\">\n            <text class=\"tip-text\">‚Ä¢ ÈÄâÊã©ÊÇ®Ë¶ÅËØÑ‰ª∑ÁöÑÂ∫óÈì∫</text>\n            <text class=\"tip-text\">‚Ä¢ ÁÇπÂáªÊêúÁ¥¢Ê°ÜÂèØÊêúÁ¥¢ÊâÄÊúâÂ∫óÈì∫</text>\n            <text class=\"tip-text\">‚Ä¢ ÁÇπÂáª\"ÈÄâÊã©‰ΩçÁΩÆ\"ÂèØÂàáÊç¢ÂüéÂ∏Ç</text>\n        </view>\n    </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { onLoad } from '@dcloudio/uni-app';\n\n// ÂÆö‰ΩçÁõ∏ÂÖ≥\nconst currentAddress = ref('');\nconst locationLoading = ref(false);\nconst locationType = ref('');\n\n// Â∫óÈì∫ÂàóË°®Áõ∏ÂÖ≥\nconst shopsList = ref([]);\nconst shopsLoading = ref(false);\nconst searchKeyword = ref('');\nconst isSearching = ref(false);\nconst isSearchFocus = ref(false);\nconst searchTimer = ref(null);\n\n// ÂüéÂ∏ÇÈÄâÊã©Áõ∏ÂÖ≥\nconst showCityPicker = ref(false);\nconst selectedCity = ref({ code: '', name: '' });\nconst cityPopup = ref(null); // Ê∑ªÂä†ÂüéÂ∏ÇÈÄâÊã©Âô®ÂºïÁî®\n\n// ÂüéÂ∏ÇÊï∞ÊçÆ\nconst hotCities = ref([\n    { code: '110100', name: 'Âåó‰∫¨Â∏Ç' },\n    { code: '310100', name: '‰∏äÊµ∑Â∏Ç' },\n    { code: '440100', name: 'ÂπøÂ∑ûÂ∏Ç' },\n    { code: '440300', name: 'Ê∑±Âú≥Â∏Ç' },\n    { code: '350200', name: 'Âé¶Èó®Â∏Ç' },\n    { code: '350500', name: 'Ê≥âÂ∑ûÂ∏Ç' },\n    { code: '330100', name: 'Êù≠Â∑ûÂ∏Ç' },\n    { code: '320100', name: 'Âçó‰∫¨Â∏Ç' }\n]);\n\n// ÁîüÂëΩÂë®Êúü\nonLoad(() => {\n    loadRandomShops();\n});\n\n// ÊâìÂºÄÂüéÂ∏ÇÈÄâÊã©Âô®\nfunction openCityPicker() {\n    console.log('ÊâìÂºÄÂüéÂ∏ÇÈÄâÊã©Âô®');\n    if (cityPopup.value) {\n        cityPopup.value.open();\n    } else {\n        // Â¶ÇÊûúrefËé∑ÂèñÂ§±Ë¥•ÔºåÁõ¥Êé•ÊòæÁ§∫\n        showCityPicker.value = true;\n    }\n}\n\n// ÂÖ≥Èó≠ÂüéÂ∏ÇÈÄâÊã©Âô®\nfunction closeCityPicker() {\n    console.log('ÂÖ≥Èó≠ÂüéÂ∏ÇÈÄâÊã©Âô®');\n    if (cityPopup.value) {\n        cityPopup.value.close();\n    }\n    showCityPicker.value = false;\n}\n\n// ÈÄâÊã©ÂΩìÂâçÂÆö‰ΩçÂüéÂ∏Ç\nfunction selectCurrentCity() {\n    selectedCity.value = { code: '350500', name: 'Ê≥âÂ∑ûÂ∏Ç' };\n    console.log('ÈÄâÊã©ÂΩìÂâçÂüéÂ∏Ç:', selectedCity.value);\n}\n\n// ÈÄâÊã©ÂüéÂ∏Ç\nfunction selectCity(city) {\n    console.log('ÈÄâÊã©ÂüéÂ∏Ç:', city);\n    selectedCity.value = city;\n    \n    // Ëá™Âä®Á°ÆËÆ§ÈÄâÊã©ÔºàÂèØÈÄâÔºâ\n    // confirmCitySelection();\n}\n\n// Á°ÆËÆ§ÂüéÂ∏ÇÈÄâÊã©\nfunction confirmCitySelection() {\n    if (!selectedCity.value.code) {\n        uni.showToast({\n            title: 'ËØ∑ÈÄâÊã©‰∏Ä‰∏™ÂüéÂ∏Ç',\n            icon: 'none'\n        });\n        return;\n    }\n    \n    console.log('Á°ÆËÆ§ÈÄâÊã©ÂüéÂ∏Ç:', selectedCity.value);\n    \n    currentAddress.value = selectedCity.value.name;\n    locationType.value = 'ÊâãÂä®ÈÄâÊã©';\n    \n    // ÂÖ≥Èó≠ÈÄâÊã©Âô®\n    closeCityPicker();\n    \n    // Ê†πÊçÆÈÄâÊã©ÁöÑÂüéÂ∏ÇÂä†ËΩΩÂ∫óÈì∫\n    loadRandomShops();\n    \n    uni.showToast({\n        title: `Â∑≤ÂàáÊç¢Âà∞${selectedCity.value.name}`,\n        icon: 'success',\n        duration: 1500\n    });\n}\n\n// Âä†ËΩΩÈöèÊú∫3Êù°Â∫óÈì∫\nasync function loadRandomShops() {\n    shopsLoading.value = true;\n    \n    try {\n        const result = await uniCloud.callFunction({\n            name: 'shopCloudObj',\n            data: {\n                action: 'getAllShops',\n                data: {\n                    limit: 3,\n                    random: true\n                }\n            }\n        });\n        \n        console.log('ÈöèÊú∫Â∫óÈì∫ÁªìÊûú:', result);\n        \n        if (result.result && result.result.errCode === 0) {\n            const allShops = result.result.data || [];\n            shopsList.value = allShops.slice(0, 3);\n            console.log('Ëé∑ÂèñÂà∞ÈöèÊú∫Â∫óÈì∫Êï∞Èáè:', shopsList.value.length);\n            isSearching.value = false;\n        } else {\n            console.error('Ëé∑ÂèñÈöèÊú∫Â∫óÈì∫Â§±Ë¥•:', result.result?.errMsg);\n            shopsList.value = [];\n        }\n    } catch (error) {\n        console.error('Ëé∑ÂèñÈöèÊú∫Â∫óÈì∫ÂºÇÂ∏∏:', error);\n        shopsList.value = [];\n    } finally {\n        shopsLoading.value = false;\n    }\n}\n\n// Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆ\nasync function getCurrentLocation() {\n    locationLoading.value = true;\n    \n    try {\n        const locationResult = await uni.getLocation({\n            type: 'gcj02',\n            isHighAccuracy: true\n        });\n        \n        console.log('Ëé∑ÂèñÂà∞‰ΩçÁΩÆ:', locationResult);\n        \n        const { latitude, longitude } = locationResult;\n        \n        currentAddress.value = `Ê≥âÂ∑ûÂ∏ÇÂçóÂÆâÂ∏ÇÔºà${latitude.toFixed(4)}, ${longitude.toFixed(4)}Ôºâ`;\n        locationType.value = 'Ëá™Âä®ÂÆö‰Ωç';\n        \n        await loadNearbyShops(latitude, longitude);\n        \n    } catch (error) {\n        console.error('Ëé∑Âèñ‰ΩçÁΩÆÂ§±Ë¥•:', error);\n        handleLocationError(error);\n    } finally {\n        locationLoading.value = false;\n    }\n}\n\n// Âä†ËΩΩÈôÑËøëÂ∫óÈì∫\nasync function loadNearbyShops(latitude, longitude) {\n    shopsLoading.value = true;\n    isSearching.value = false;\n    \n    try {\n        const result = await uniCloud.callFunction({\n            name: 'shopCloudObj',\n            data: {\n                action: 'getNearbyShops',\n                data: {\n                    latitude,\n                    longitude,\n                    keyword: searchKeyword.value,\n                    maxDistance: 50\n                }\n            }\n        });\n        \n        console.log('ÈôÑËøëÂ∫óÈì∫ÁªìÊûú:', result);\n        \n        if (result.result && result.result.errCode === 0) {\n            shopsList.value = result.result.data || [];\n            console.log('Ëé∑ÂèñÂà∞ÈôÑËøëÂ∫óÈì∫Êï∞Èáè:', shopsList.value.length);\n        } else {\n            console.error('Ëé∑ÂèñÈôÑËøëÂ∫óÈì∫Â§±Ë¥•:', result.result?.errMsg);\n            shopsList.value = [];\n        }\n    } catch (error) {\n        console.error('Ëé∑ÂèñÈôÑËøëÂ∫óÈì∫ÂºÇÂ∏∏:', error);\n        shopsList.value = [];\n    } finally {\n        shopsLoading.value = false;\n    }\n}\n\n// ÊêúÁ¥¢Â∫óÈì∫\nasync function searchShops() {\n    if (!searchKeyword.value.trim()) {\n        loadRandomShops();\n        return;\n    }\n    \n    shopsLoading.value = true;\n    isSearching.value = true;\n    \n    try {\n        const result = await uniCloud.callFunction({\n            name: 'shopCloudObj',\n            data: {\n                action: 'getAllShops',\n                data: {\n                    keyword: searchKeyword.value\n                }\n            }\n        });\n        \n        console.log('ÊêúÁ¥¢Â∫óÈì∫ÁªìÊûú:', result);\n        \n        if (result.result && result.result.errCode === 0) {\n            shopsList.value = result.result.data || [];\n            console.log('ÊêúÁ¥¢Âà∞Â∫óÈì∫Êï∞Èáè:', shopsList.value.length);\n        } else {\n            console.error('ÊêúÁ¥¢Â∫óÈì∫Â§±Ë¥•:', result.result?.errMsg);\n            shopsList.value = [];\n        }\n    } catch (error) {\n        console.error('ÊêúÁ¥¢Â∫óÈì∫ÂºÇÂ∏∏:', error);\n        shopsList.value = [];\n    } finally {\n        shopsLoading.value = false;\n    }\n}\n\n// ÁÇπÂáªÊêúÁ¥¢Ê°Ü\nfunction focusSearch() {\n    isSearchFocus.value = true;\n    if (!isSearching.value) {\n        shopsList.value = [];\n    }\n}\n\n// ÊêúÁ¥¢ËæìÂÖ•Â§ÑÁêÜ\nfunction onSearchInput() {\n    if (searchTimer.value) {\n        clearTimeout(searchTimer.value);\n    }\n    \n    searchTimer.value = setTimeout(() => {\n        if (searchKeyword.value.trim()) {\n            searchShops();\n        } else {\n            loadRandomShops();\n        }\n    }, 500);\n}\n\n// Ê∏ÖÁ©∫ÊêúÁ¥¢\nfunction clearSearch() {\n    searchKeyword.value = '';\n    isSearchFocus.value = false;\n    isSearching.value = false;\n    \n    if (searchTimer.value) {\n        clearTimeout(searchTimer.value);\n        searchTimer.value = null;\n    }\n    \n    loadRandomShops();\n}\n\n// Â§ÑÁêÜÂÆö‰ΩçÈîôËØØ\nfunction handleLocationError(error) {\n    console.error('ÂÆö‰ΩçÈîôËØØËØ¶ÊÉÖ:', error);\n    \n    if (error.errMsg.includes('auth deny') || error.errMsg.includes('permission')) {\n        uni.showModal({\n            title: 'ÂÆö‰ΩçÊùÉÈôêÊèêÁ§∫',\n            content: 'ÈúÄË¶ÅËé∑ÂèñÊÇ®ÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØÊù•Êé®ËçêÈôÑËøëÂ∫óÈì∫',\n            confirmText: 'ÊâãÂä®ÈÄâÊã©',\n            cancelText: 'ÂèñÊ∂à',\n            success: (res) => {\n                if (res.confirm) {\n                    openCityPicker();\n                } else {\n                    loadRandomShops();\n                }\n            }\n        });\n    } else {\n        uni.showToast({\n            title: 'ÂÆö‰ΩçÂ§±Ë¥•ÔºåÊòæÁ§∫Êé®ËçêÂ∫óÈì∫',\n            icon: 'none',\n            duration: 2000\n        });\n        loadRandomShops();\n    }\n}\n\n// ÈÄâÊã©Â∫óÈì∫\nfunction selectShop(shop) {\n    console.log('ÈÄâÊã©Â∫óÈì∫:', shop);\n    \n    uni.navigateTo({\n        url: `/pages/blog/edit?shopId=${shop._id}&shopName=${encodeURIComponent(shop.shopName)}`,\n        success: () => {\n            uni.$emit('shopSelected', shop);\n        }\n    });\n}\n\n// ËøîÂõû‰∏ä‰∏ÄÈ°µ\nfunction goBack() {\n    uni.navigateBack();\n}\n\n// ÂïÜÂÆ∂Â§¥ÂÉèÂä†ËΩΩÂ§±Ë¥•Â§ÑÁêÜ\nfunction handleShopAvatarError(event) {\n    console.log('ÂïÜÂÆ∂Â§¥ÂÉèÂä†ËΩΩÂ§±Ë¥•:', event);\n    event.target.src = '/static/default-shop.jpg';\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.choose-edit {\n    min-height: 100vh;\n    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n}\n\n/* Â§¥ÈÉ®ÂØºËà™ */\n.header {\n    background: rgba(255, 255, 255, 0.95);\n    backdrop-filter: blur(20rpx);\n    border-bottom: 1rpx solid #f0f0f0;\n    \n    .nav-bar {\n        height: 88rpx;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: 0 30rpx;\n        \n        .nav-left {\n            width: 60rpx;\n            height: 60rpx;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            \n            &:active {\n                opacity: 0.6;\n            }\n        }\n        \n        .nav-title {\n            font-size: 36rpx;\n            font-weight: 600;\n            color: #333;\n        }\n        \n        .nav-right {\n            width: 60rpx;\n        }\n    }\n}\n\n/* ÂÜÖÂÆπÂå∫Âüü */\n.content {\n    padding: 30rpx;\n}\n\n/* ÂÆö‰ΩçÂå∫Âüü */\n.location-section {\n    background: #ffffff;\n    border-radius: 24rpx;\n    padding: 32rpx;\n    margin-bottom: 30rpx;\n    box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.08);\n    \n    .location-header {\n        display: flex;\n        align-items: center;\n        margin-bottom: 20rpx;\n        \n        .location-title {\n            font-size: 32rpx;\n            font-weight: 600;\n            color: #2c3e50;\n            margin-left: 12rpx;\n            flex: 1;\n        }\n        \n        .location-actions {\n            display: flex;\n            gap: 20rpx;\n            \n            .location-refresh, .location-choose {\n                font-size: 26rpx;\n                color: #4F8BFF;\n                \n                &:active {\n                    opacity: 0.6;\n                }\n            }\n        }\n    }\n    \n    .location-info {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        \n        .address {\n            font-size: 28rpx;\n            color: #7f8c8d;\n            line-height: 1.5;\n        }\n        \n        .location-type {\n            font-size: 24rpx;\n            color: #95a5a6;\n            background: #f8f9fa;\n            padding: 6rpx 12rpx;\n            border-radius: 12rpx;\n        }\n    }\n}\n\n/* ÊêúÁ¥¢Âå∫Âüü */\n.search-section {\n    margin-bottom: 30rpx;\n    \n    .search-box {\n        position: relative;\n        background: #ffffff;\n        border-radius: 50rpx;\n        padding: 20rpx 30rpx;\n        display: flex;\n        align-items: center;\n        box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\n        \n        .search-icon {\n            margin-right: 16rpx;\n            flex-shrink: 0;\n        }\n        \n        .search-input {\n            flex: 1;\n            font-size: 28rpx;\n            color: #333;\n            \n            &::placeholder {\n                color: #999;\n            }\n        }\n        \n        .clear-btn {\n            width: 40rpx;\n            height: 40rpx;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border-radius: 50%;\n            background: #f5f5f5;\n            \n            &:active {\n                background: #e0e0e0;\n            }\n        }\n    }\n}\n\n/* Â∫óÈì∫Âå∫Âüü */\n.shops-section {\n    .section-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 24rpx;\n        \n        .section-title {\n            font-size: 32rpx;\n            font-weight: 600;\n            color: #2c3e50;\n        }\n        \n        .section-desc {\n            font-size: 24rpx;\n            color: #7f8c8d;\n        }\n    }\n}\n\n/* Âä†ËΩΩÈ™®Êû∂Â±è */\n.loading-shops {\n    .shop-skeleton {\n        display: flex;\n        align-items: center;\n        padding: 30rpx;\n        background: #ffffff;\n        border-radius: 20rpx;\n        margin-bottom: 20rpx;\n        \n        .skeleton-avatar {\n            width: 120rpx;\n            height: 120rpx;\n            border-radius: 16rpx;\n            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\n            background-size: 200% 100%;\n            animation: loading 1.2s ease infinite;\n            margin-right: 24rpx;\n        }\n        \n        .skeleton-info {\n            flex: 1;\n            \n            .skeleton-name {\n                height: 32rpx;\n                background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\n                background-size: 200% 100%;\n                animation: loading 1.2s ease infinite;\n                border-radius: 8rpx;\n                margin-bottom: 16rpx;\n                width: 60%;\n            }\n            \n            .skeleton-address {\n                height: 24rpx;\n                background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\n                background-size: 200% 100%;\n                animation: loading 1.2s ease infinite;\n                border-radius: 6rpx;\n                width: 80%;\n            }\n        }\n    }\n}\n\n/* Á©∫Áä∂ÊÄÅ */\n.empty-shops {\n    text-align: center;\n    padding: 100rpx 40rpx;\n    background: #ffffff;\n    border-radius: 24rpx;\n    \n    .empty-icon {\n        font-size: 120rpx;\n        margin-bottom: 30rpx;\n        opacity: 0.6;\n    }\n    \n    .empty-text {\n        font-size: 32rpx;\n        font-weight: 600;\n        color: #2c3e50;\n        display: block;\n        margin-bottom: 16rpx;\n    }\n    \n    .empty-desc {\n        font-size: 26rpx;\n        color: #7f8c8d;\n        display: block;\n        line-height: 1.5;\n    }\n    \n    .empty-btn {\n        background: #4F8BFF;\n        color: white;\n        border: none;\n        border-radius: 50rpx;\n        padding: 20rpx 40rpx;\n        font-size: 28rpx;\n        margin-top: 30rpx;\n        \n        &:active {\n            background: #3a7cff;\n        }\n    }\n}\n\n/* Â∫óÈì∫ÂàóË°® */\n.shops-list {\n    .shop-item {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: 30rpx;\n        background: #ffffff;\n        border-radius: 20rpx;\n        margin-bottom: 20rpx;\n        box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.06);\n        transition: all 0.3s ease;\n        \n        &:active {\n            transform: scale(0.98);\n            background: #f8f9fa;\n        }\n        \n        .shop-left {\n            display: flex;\n            align-items: center;\n            flex: 1;\n            \n            .shop-avatar {\n                width: 120rpx;\n                height: 120rpx;\n                border-radius: 16rpx;\n                margin-right: 24rpx;\n                border: 2rpx solid #f0f0f0;\n            }\n            \n            .shop-info {\n                flex: 1;\n                \n                .shop-name {\n                    font-size: 32rpx;\n                    font-weight: 600;\n                    color: #2c3e50;\n                    display: block;\n                    margin-bottom: 12rpx;\n                    line-height: 1.3;\n                }\n                \n                .shop-address {\n                    font-size: 26rpx;\n                    color: #7f8c8d;\n                    display: block;\n                    margin-bottom: 12rpx;\n                    line-height: 1.4;\n                }\n                \n                .shop-meta {\n                    display: flex;\n                    align-items: center;\n                    gap: 20rpx;\n                    \n                    .shop-rating {\n                        background: #FFF8E1;\n                        padding: 6rpx 12rpx;\n                        border-radius: 12rpx;\n                        display: inline-flex;\n                        align-items: center;\n                        \n                        .rating-star {\n                            color: #FFD700;\n                            font-size: 22rpx;\n                            margin-right: 4rpx;\n                        }\n                        \n                        .rating-value {\n                            font-size: 22rpx;\n                            color: #FF6B35;\n                            font-weight: 600;\n                        }\n                    }\n                    \n                    .distance {\n                        font-size: 24rpx;\n                        color: #95a5a6;\n                        background: #f8f9fa;\n                        padding: 6rpx 12rpx;\n                        border-radius: 12rpx;\n                    }\n                }\n            }\n        }\n        \n        .shop-right {\n            margin-left: 20rpx;\n        }\n    }\n}\n\n/* ÂüéÂ∏ÇÈÄâÊã©Âô® */\n.city-picker {\n    height: 70vh;\n    background: #fff;\n    border-radius: 24rpx 24rpx 0 0;\n    display: flex;\n    flex-direction: column;\n    \n    .picker-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 32rpx;\n        border-bottom: 1rpx solid #f0f0f0;\n        \n        .picker-title {\n            font-size: 32rpx;\n            font-weight: 600;\n            color: #333;\n        }\n        \n        .picker-close {\n            width: 48rpx;\n            height: 48rpx;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border-radius: 50%;\n            background: #f5f5f5;\n            \n            &:active {\n                background: #e0e0e0;\n            }\n        }\n    }\n    \n    .picker-content {\n        flex: 1;\n        padding: 0 32rpx;\n        overflow-y: auto;\n    }\n    \n    .city-section {\n        margin-bottom: 32rpx;\n        \n        .section-title {\n            font-size: 28rpx;\n            font-weight: 600;\n            color: #333;\n            margin-bottom: 20rpx;\n            display: block;\n        }\n    }\n    \n    .city-tags {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 16rpx;\n        \n        .city-tag {\n            padding: 16rpx 24rpx;\n            background: #f8f9fa;\n            border-radius: 12rpx;\n            font-size: 26rpx;\n            color: #333;\n            transition: all 0.3s ease;\n            \n            &.active {\n                background: #4F8BFF;\n                color: white;\n            }\n            \n            &:active {\n                transform: scale(0.95);\n                opacity: 0.8;\n            }\n        }\n    }\n    \n    .picker-footer {\n        padding: 32rpx;\n        border-top: 1rpx solid #f0f0f0;\n        \n        .confirm-btn {\n            background: #4F8BFF;\n            color: white;\n            border: none;\n            border-radius: 50rpx;\n            height: 80rpx;\n            font-size: 30rpx;\n            font-weight: 600;\n            width: 100%;\n            \n            &:active {\n                background: #3a7cff;\n            }\n        }\n    }\n}\n\n/* Â∫ïÈÉ®ÊèêÁ§∫ */\n.footer-tips {\n    background: rgba(255, 255, 255, 0.7);\n    border-radius: 16rpx;\n    padding: 24rpx 32rpx;\n    margin: 30rpx;\n    \n    .tip-text {\n        display: block;\n        font-size: 24rpx;\n        color: #7f8c8d;\n        line-height: 1.6em;\n        margin-bottom: 8rpx;\n    }\n}\n\n/* Âä®Áîª */\n@keyframes loading {\n    0% { background-position: 200% 0; }\n    100% { background-position: -200% 0; }\n}\n\n/* ÂìçÂ∫îÂºèËÆæËÆ° */\n@media (max-width: 750rpx) {\n    .content {\n        padding: 20rpx;\n    }\n    \n    .location-section,\n    .shop-item {\n        padding: 24rpx;\n        border-radius: 16rpx;\n    }\n    \n    .shop-avatar {\n        width: 100rpx !important;\n        height: 100rpx !important;\n    }\n}\n\n/* ÊöóËâ≤Ê®°ÂºèÊîØÊåÅ */\n@media (prefers-color-scheme: dark) {\n    .choose-edit {\n        background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);\n    }\n    \n    .header {\n        background: rgba(44, 62, 80, 0.95);\n        border-bottom-color: #4a6572;\n        \n        .nav-title {\n            color: #ecf0f1;\n        }\n    }\n    \n    .location-section,\n    .search-box,\n    .shop-item,\n    .empty-shops {\n        background: #2c3e50;\n    }\n    \n    .section-title,\n    .location-title,\n    .shop-name {\n        color: #ecf0f1 !important;\n    }\n    \n    .address,\n    .shop-address,\n    .empty-desc {\n        color: #bdc3c7 !important;\n    }\n    \n    .footer-tips {\n        background: rgba(44, 62, 80, 0.7);\n    }\n    \n    .city-picker {\n        background: #2c3e50;\n        \n        .picker-title {\n            color: #ecf0f1;\n        }\n        \n        .city-tag {\n            background: #34495e;\n            color: #ecf0f1;\n            \n            &.active {\n                background: #4F8BFF;\n            }\n        }\n    }\n}\n</style>","import MiniProgramPage from 'D:/uni-app/uniCloudDemo0717/pages/blog/choseEdit.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","uni","uniCloud"],"mappings":"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"}