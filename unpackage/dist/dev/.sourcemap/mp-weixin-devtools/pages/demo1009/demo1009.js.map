{"version":3,"names":["QQMapWX","require","qqmapsdk","common_vendor","ref","mapDetailList","onLoad","value","key","onShow","index","__f__","search","keyword","success","res","data","length","results","slice","map","item","title","locationLat","location","lat","locationLng","lng","fail","onUnload","wx","createPage","MiniProgramPage"],"sources":["demo1009.vue","E:/movie/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGVtbzEwMDkvZGVtbzEwMDkudnVl"],"sourcesContent":["<template>\n  <view style=\"padding: 40rpx;\">\n    <!-- 显示提取的数据列表 -->\n    <map :latitude=\"item.locationLat\" :longitude=\"item.locationLng\"></map>\r\n    <view v-for=\"item in mapDetailList\" :key=\"item.id\" class=\"location-item\">\r\n      <text>{{ item.title }} - location[Lat]: {{ item.locationLat }}\r\n      -location[Lng]: {{ item.locationLng }}</text>\n    </view>\n    <view v-if=\"mapDetailList.length === 0\">加载中...</view>\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { onLoad, onShow, onUnload } from '@dcloudio/uni-app'\nconst QQMapWX = require('../../static/lib/qqmap-wx-jssdk.js')\n  \nconst qqmapsdk = ref(null)\n// 存放前十个地址的title和id\nconst mapDetailList = ref([]);\n\n// 页面加载\nonLoad(() => {\n  qqmapsdk.value = new QQMapWX({\n    key: '77NBZ-KM2C7-RY2XI-HOQPY-RJXTT-FKB4V'\n  })\n})\n\n// 页面显示\nonShow(() => {\n  if (!qqmapsdk.value) {\n    console.error('QQMapWX 未正确初始化')\n    return\n  }\n  \n  // 调用接口\n  qqmapsdk.value.search({\n    keyword: '闽南科技学院',\n    success: function (res) {\n      // 提取前10个数据的title和id\n      if (res.data && res.data.length > 0) {\n        // 取前10个或全部（如果不足10个）\n        const results = res.data.slice(0, 1);\n        mapDetailList.value = results.map(item => ({\n          title: item.title,\n          locationLat:item.location.lat,\r\n        locationLng:item.location.lng,\r\n        }));\n      }\n      console.log('提取的前1个数据:', mapDetailList.value)\n    },\n    fail: function (res) {\n      console.log('搜索失败:', res)\n    }\n  })\n})\n\n// 页面卸载\nonUnload(() => {\n  qqmapsdk.value = null\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.location-item {\n  padding: 20rpx 0;\n  border-bottom: 1rpx solid #eee;\n}\n</style>","import MiniProgramPage from 'D:/uni-app/uniCloudDemo0717/pages/demo1009/demo1009.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;IAeA,IAAMA,OAAA,GAAUC,OAAA,CAAQ,oCAAoC;IAE5D,IAAMC,QAAA,GAAWC,aAAA,CAAGC,GAAA,CAAC,IAAI;IAEzB,IAAMC,aAAA,GAAgBF,aAAA,CAAAC,GAAA,CAAI,EAAE;IAG5BD,aAAA,CAAAG,MAAA,CAAO,YAAM;MACXJ,QAAA,CAASK,KAAA,GAAQ,IAAIP,OAAA,CAAQ;QAC3BQ,GAAA,EAAK;MACT,CAAG;IACH,CAAC;IAGDL,aAAA,CAAAM,MAAA,CAAO,YAAM;MACX,IAAI,CAACP,QAAA,CAASK,KAAA,EAAO;QACnBJ,aAAA,CAAAO,KAAA,CAAAC,KAAA,+CAAc,gBAAgB;QAC9B;MACD;MAGDT,QAAA,CAASK,KAAA,CAAMK,MAAA,CAAO;QACpBC,OAAA,EAAS;QACTC,OAAA,EAAS,SAATA,QAAmBC,GAAA,EAAK;UAEtB,IAAIA,GAAA,CAAIC,IAAA,IAAQD,GAAA,CAAIC,IAAA,CAAKC,MAAA,GAAS,GAAG;YAEnC,IAAMC,OAAA,GAAUH,GAAA,CAAIC,IAAA,CAAKG,KAAA,CAAM,GAAG,CAAC;YACnCd,aAAA,CAAcE,KAAA,GAAQW,OAAA,CAAQE,GAAA,CAAI,UAAAC,IAAA;cAAA,OAAS;gBACzCC,KAAA,EAAOD,IAAA,CAAKC,KAAA;gBACZC,WAAA,EAAYF,IAAA,CAAKG,QAAA,CAASC,GAAA;gBAC5BC,WAAA,EAAYL,IAAA,CAAKG,QAAA,CAASG;cACzB;YAAA,CAAC;UACH;UACDxB,aAAA,CAAAO,KAAA,CAAAC,KAAA,6CAAY,aAAaN,aAAA,CAAcE,KAAK;QAC7C;QACDqB,IAAA,EAAM,SAANA,KAAgBb,GAAA,EAAK;UACnBZ,aAAA,CAAAO,KAAA,CAAAC,KAAA,6CAAY,SAASI,GAAG;QACzB;MACL,CAAG;IACH,CAAC;IAGDZ,aAAA,CAAA0B,QAAA,CAAS,YAAM;MACb3B,QAAA,CAASK,KAAA,GAAQ;IACnB,CAAC;;;;;;;;;;;;;;;;;;;AC3DDuB,EAAA,CAAGC,UAAA,CAAWC,eAAe","ignoreList":[]}