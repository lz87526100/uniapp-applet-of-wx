{"version":3,"file":"demo0829.js","sources":["pages/demo0829/demo0829.vue","E:/movie/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGVtbzA4MjkvZGVtbzA4MjkudnVl"],"sourcesContent":["<template>\n    <view class=\"layout\">\r\n        <view class=\"item\" v-for=\"item in dataList \" :key=\"item._id\">\r\n            <view class=\"left\">\r\n                <image :src=\"item.picurl\" mode=\"widthFix\"></image>\r\n            </view>\r\n            <view class=\"right\">\r\n                <view class=\"desc\">{{item.description}}</view>\r\n                <view class=\"name\">{{item.classid[0].name}}</view>\r\n            </view>\r\n        </view>\r\n    </view>\r\n        \n</template>\n\n<script setup>\r\n    import {ref} from 'vue';\r\n    const dataList = ref([])\r\n    \r\n    const db = uniCloud.database();\r\n    \r\n    const getData = async ()=>{\r\n        \r\n       // 传统方式 浪费带宽 \r\n       //  let datas = res.result.data;\r\n       //  for(let i=0 ; i < datas.length ; i++){\r\n       //      let classid = datas[i].classid;\r\n       //      let row = await db.collection(\"demo-classify\").where(`_id == \"${classid}\"`)\r\n       //      .get({getOne:true});\r\n       //      datas[i].newClassname = row.result.data.name\r\n       //  }\r\n       \r\n       //获取demo-wallper中的数据 进行临时表查询\r\n        let wallTemp = db.collection(\"demo-wallper\")\r\n        // .where(` classid ==  \"68b056dad35e526534a0beaa\" `)\r\n        //条件过滤\r\n        .where({_id: \"68b2df1f8c093f5f3379581e\"})\r\n        //限制传出内容\r\n        .field(\"_id,description,classid,picurl\")\r\n        .orderBy(\"_id desc\").limit(3)\r\n        //获取临时表 不进行网络查询\r\n        .getTemp();\r\n        \r\n        //获取demo-classify中的数据\r\n        let classTemp = db.collection(\"demo-classify\").field(\"_id,name\").getTemp();\r\n        \r\n        //主表在前 副表在后 进行 联表 网络查询 \r\n        let res = await db.collection(wallTemp,classTemp)\r\n        .field(\"_id,description, picurl,classid\")\r\n        .get(); \r\n        \r\n        console.log(res)\r\n        // 拷贝res中的data\r\n        dataList.value = res.result.data;\r\n    }\r\n    \r\n    getData();\n</script>\n\n<style lang=\"scss\" scoped>\n.layout{\r\n    padding: 30rpx;\r\n    .item{\r\n        display: flex;\r\n        .left{\r\n            width: 200rpx;\r\n            image{\r\n                width: 100%;\r\n            }\r\n        }\r\n        .right{\r\n            flex:1 ;\r\n            padding-left:30rpx ;\r\n        }\r\n        .desc{\r\n            font-size: 38rpx;\r\n        }\r\n        .name{\r\n            font-weight: bold;\r\n        }\r\n    }\r\n}\n</style>\n","import MiniProgramPage from 'D:/uni-app/uniCloudDemo0717/pages/demo0829/demo0829.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uniCloud","uni"],"mappings":";;;;;AAiBI,UAAM,WAAWA,cAAG,IAAC,EAAE;AAEvB,UAAM,KAAKC,iBAAS;AAEpB,UAAM,UAAU,YAAU;AAYtB,UAAI,WAAW,GAAG,WAAW,cAAc,EAG1C,MAAM,EAAC,KAAK,2BAA0B,CAAC,EAEvC,MAAM,gCAAgC,EACtC,QAAQ,UAAU,EAAE,MAAM,CAAC,EAE3B;AAGD,UAAI,YAAY,GAAG,WAAW,eAAe,EAAE,MAAM,UAAU,EAAE;AAGjE,UAAI,MAAM,MAAM,GAAG,WAAW,UAAS,SAAS,EAC/C,MAAM,iCAAiC,EACvC;AAEDC,oBAAAA,MAAA,MAAA,OAAA,qCAAY,GAAG;AAEf,eAAS,QAAQ,IAAI,OAAO;AAAA,IAC/B;AAED;;;;;;;;;;;;;;;;ACvDJ,GAAG,WAAW,eAAe;"}