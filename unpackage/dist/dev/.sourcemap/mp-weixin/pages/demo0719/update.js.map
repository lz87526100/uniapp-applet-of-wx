{"version":3,"file":"update.js","sources":["pages/demo0719/update.vue","E:/movie/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGVtbzA3MTkvdXBkYXRlLnZ1ZQ"],"sourcesContent":["<template>\n    <view class=\"layout\">\n        <input v-model=\"formData.name\" placeholder=\"请输入姓名\"/>\r\n        <input v-model.number=\"formData.age\" type=\"number\" placeholder=\"请输入年龄\"/>\n        <button @click=\"handleUpdate\">修改</button>\r\n    </view>\r\n</template>\n\n<script setup>\nimport { ref } from 'vue';\r\nimport { onLoad } from '@dcloudio/uni-app';\r\nlet id;\nconst db = uniCloud.database();\r\n\nconst formData = ref({\r\n    name:\"\",\r\n    age:\"\"\r\n})\r\n\r\n\r\n//获取id\r\nonLoad((e)=>{\r\n    id=e.id;\r\n    getData();\r\n})\r\n\r\nconst getData = async ()=>{\r\n    //{result}为深度结构\r\n    let {result:{data}} = await db.collection(\"demo-user\")\r\n    .doc(id)\r\n    //回复一条\r\n    .get({getOne:true})\r\n    console.log(data);\r\n    //将获取到的data值赋值给formData实现原数据内容显示\r\n    formData.value.name  = data.name;\r\n    formData.value.age  = data.age; \r\n}\r\n\r\nconst handleUpdate = async()=>{\r\n   let res = await db.collection(\"demo-user\")\r\n   .doc(id)\r\n   .update(formData.value)\r\n   console.log(res);\r\n}\r\n\n</script>\n\n<style lang=\"scss\" scoped>\n.layout{\r\n    padding: 30rpx;\r\n    input{\r\n        border: 1px solid #eee;\r\n        margin-bottom: 30rpx;\r\n        height: 50rpx;\r\n    };\r\n}\n</style>\n","import MiniProgramPage from 'D:/uni-app/uniCloudDemo0717/pages/demo0719/update.vue'\nwx.createPage(MiniProgramPage)"],"names":["uniCloud","ref","onLoad","uni"],"mappings":";;;;;AAWA,QAAI;AACJ,UAAM,KAAKA,cAAAA,GAAS;AAEpB,UAAM,WAAWC,cAAAA,IAAI;AAAA,MACjB,MAAK;AAAA,MACL,KAAI;AAAA,IACR,CAAC;AAIDC,kBAAM,OAAC,CAAC,MAAI;AACR,WAAG,EAAE;AACL;IACJ,CAAC;AAED,UAAM,UAAU,YAAU;AAEtB,UAAI,EAAC,QAAO,EAAC,KAAI,EAAC,IAAI,MAAM,GAAG,WAAW,WAAW,EACpD,IAAI,EAAE,EAEN,IAAI,EAAC,QAAO,KAAI,CAAC;AAClBC,oBAAAA,MAAY,MAAA,OAAA,mCAAA,IAAI;AAEhB,eAAS,MAAM,OAAQ,KAAK;AAC5B,eAAS,MAAM,MAAO,KAAK;AAAA,IAC/B;AAEA,UAAM,eAAe,YAAS;AAC3B,UAAI,MAAM,MAAM,GAAG,WAAW,WAAW,EACxC,IAAI,EAAE,EACN,OAAO,SAAS,KAAK;AACtBA,oBAAAA,MAAY,MAAA,OAAA,mCAAA,GAAG;AAAA,IAClB;;;;;;;;;;;;;;;AC1CA,GAAG,WAAW,eAAe;"}