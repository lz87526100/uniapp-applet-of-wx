{"version":3,"file":"showMap.js","sources":["pages/showMap/showMap.vue","E:/movie/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2hvd01hcC9zaG93TWFwLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- Âú∞ÂõæÂÆπÂô® -->\n    <view class=\"map-container\">\n      <map \n        id=\"shopMap\"\n        :key=\"mapKey\"\n        :latitude=\"center.latitude\"\n        :longitude=\"center.longitude\"\n        :markers=\"markers\"\n        :scale=\"scale\"\n        show-location\n        class=\"map\"\n        enable-zoom\n        enable-scroll\n        enable-rotate\n        @markertap=\"onMarkerTap\"\n        @regionchange=\"onRegionChange\"\n      >\n      </map>\n      \n      <!-- È°∂ÈÉ®Áä∂ÊÄÅÊ†è -->\n      <view class=\"top-bar\">\n        <view class=\"header-content\">\n          <view class=\"user-section\">\n            <view class=\"user-info\" @tap=\"goToUserCenter\">\n              <view class=\"avatar\">\n                <image \n                  v-if=\"currentUser?.avatar\"\n                  class=\"avatar-img\"\n                  :src=\"currentUser.avatar\"\n                  mode=\"aspectFill\"\n                  @error=\"(e) => handleImageError(e, 'user')\"\n                />\n                <text v-else class=\"avatar-icon\">üë§</text>\n              </view>\n              <view class=\"user-text\">\n                <text class=\"username\">{{ currentUser?.nickname || 'Áî®Êà∑' }}</text>\n                <text class=\"user-desc\">ÂèëÁé∞Âë®ËæπÂ∫óÈì∫</text>\n              </view>\n            </view>\n            <view class=\"stats-badge\">\n              <text class=\"stats-count\">{{ shops.length }}</text>\n              <text class=\"stats-label\">Â∫óÈì∫</text>\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <!-- Âú∞ÂõæÊéßÂà∂ÊåâÈíÆÁªÑ -->\n      <view class=\"map-controls\">\n        <view class=\"control-group\">\n          <view class=\"location-btn\" @tap=\"backToCurrentLocation\">\n            <view class=\"btn-icon\">üìç</view>\n          </view>\n          <view class=\"zoom-controls\">\n            <view class=\"zoom-btn\" @tap=\"zoomIn\">\n              <text class=\"zoom-icon\">+</text>\n            </view>\n            <view class=\"zoom-btn\" @tap=\"zoomOut\">\n              <text class=\"zoom-icon\">-</text>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n    \n    <!-- Â∫óÈì∫ÂàóË°® -->\n    <view class=\"shop-list-container\">\n      <!-- ÂàóË°®Â§¥ÈÉ® -->\n      <view class=\"list-header\">\n        <view class=\"header-content\">\n          <view class=\"title-section\">\n            <text class=\"main-title\">Âë®ËæπÂ∫óÈì∫</text>\n            <text class=\"sub-title\">Discover Nearby Shops</text>\n          </view>\n          <view class=\"filter-section\">\n            <view class=\"filter-tabs\">\n              <text class=\"filter-tab\" :class=\"{ active: sortBy === 'default' }\" @tap=\"changeSort('default')\">\n                <text class=\"tab-icon\">üïí</text>\n                <text>Ë∑ùÁ¶ªÊúÄËøë</text>\n              </text>\n              <text class=\"filter-tab\" :class=\"{ active: sortBy === 'rating' }\" @tap=\"changeSort('rating')\">\n                <text class=\"tab-icon\">‚≠ê</text>\n                <text>ËØÑÂàÜÊúÄÈ´ò</text>\n              </text>\n              <text class=\"filter-tab\" :class=\"{ active: sortBy === 'sales' }\" @tap=\"changeSort('sales')\">\n                <text class=\"tab-icon\">üî•</text>\n                <text>ÈîÄÈáèÊúÄÂ•Ω</text>\n              </text>\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <!-- ÂàóË°®ÂÜÖÂÆπ -->\n      <view class=\"list-content\">\n        <scroll-view \n          scroll-y \n          class=\"list-scroll\"\n          enhanced=\"true\"\n          show-scrollbar=\"false\"\n        >\n          <!-- Á©∫Áä∂ÊÄÅ -->\n          <view v-if=\"shops.length === 0 && !loading\" class=\"empty-state\">\n            <view class=\"empty-illustration\">\n              <view class=\"empty-icon\">üè™</view>\n              <view class=\"empty-stars\">\n                <text class=\"star\">‚≠ê</text>\n                <text class=\"star\">‚≠ê</text>\n                <text class=\"star\">‚≠ê</text>\n              </view>\n            </view>\n            <text class=\"empty-title\">ÊöÇÊó†Â∫óÈì∫Êï∞ÊçÆ</text>\n            <text class=\"empty-desc\">Ê≠£Âú®Âä™ÂäõÂä†ËΩΩ‰∏≠...</text>\n            <button class=\"empty-btn\" @tap=\"loadShopsData\">\n              <text class=\"btn-icon\">üîÑ</text>\n              <text class=\"btn-text\">ÈáçÊñ∞Âä†ËΩΩ</text>\n            </button>\n          </view>\n\n          <!-- Â∫óÈì∫ÂàóË°® -->\n          <view class=\"shop-cards\">\n            <view \n              v-for=\"(shop, index) in sortedShops\" \n              :key=\"shop.id\"\n              class=\"shop-card\"\n              :class=\"{ active: selectedShopId === shop.id }\"\n              @tap=\"onShopItemTap(shop)\"\n            >\n              <!-- Âç°ÁâáÂÜÖÂÆπ -->\n              <view class=\"card-content\">\n                <!-- È°∂ÈÉ®‰ø°ÊÅØ -->\n                <view class=\"card-header\">\n                  <view class=\"shop-meta\">\n                    <!-- Â∫óÈì∫Â§¥ÂÉè -->\n                    <view class=\"shop-rank\">\n                      <image \n                        class=\"shop-avatar\" \n                        :src=\"getShopImage(shop.shopPic || shop.image)\"\n                        mode=\"aspectFill\"\n                        @error=\"(e) => handleImageError(e, 'shop')\"\n                      />\n                    </view>\n                    <view class=\"shop-main\">\n                      <!-- Â∫óÈì∫ÂêçÁß∞ÂíåËØÑÂàÜÂπ∂ÊéíÊòæÁ§∫ -->\n                      <view class=\"title-rating-row\">\n                        <text class=\"shop-name\">{{ shop.name }}</text>\n                        <view class=\"rating-tag\">\n                          <text class=\"rating-icon\">‚≠ê</text>\n                          <text class=\"rating-value\">{{ getShopRating(shop) }}</text>\n                        </view>\n                      </view>\n                      \n                      <!-- Âú∞ÂùÄ‰ø°ÊÅØ -->\n                      <view class=\"info-item\">\n                        <text class=\"info-text\">{{ shop.address }}</text>\n                      </view>\n                      \n                      <view class=\"card-footer\">\n                        <view class=\"stats-section\">\n                          <view class=\"stat\">\n                            <text class=\"stat-label\">ÊúàÂîÆ</text>\n                            <text class=\"stat-value\">{{ safeFormatNumber(shop.monthlySales) }}</text>\n                          </view>\n                          <view class=\"stat-divider\"></view>\n                          <view class=\"stat\">\n                            <text class=\"stat-label\">Ëê•‰∏ö</text>\n                            <text class=\"stat-value\">{{ shop.businessHours || '09:00-21:00' }}</text>\n                          </view>\n                        </view>\n                        \n                        <view class=\"action-section\">\n                          <view class=\"action-buttons\">\n                            <view class=\"action-btn detail-btn\" @tap.stop=\"goToShopDetail(shop.id)\">\n                              <text class=\"action-icon\">üîç</text>\n                            </view>\n                            <view class=\"action-btn navigate-btn\" @tap.stop=\"openShopNavigation(shop)\">\n                              <text class=\"action-icon\">üìç</text>\n                            </view>\n                            <view class=\"action-btn favorite-btn\" @tap.stop=\"toggleFavorite(shop)\">\n                              <text class=\"action-icon\">{{ isShopFavorite(shop.id) ? '‚ù§Ô∏è' : 'ü§ç' }}</text>\n                            </view>\n                          </view>\n                        </view>\n                      </view>\n                    </view>\n                  </view>\n                </view>\n              </view>\n            </view>\n          </view>\n          \n          <!-- Âä†ËΩΩÁä∂ÊÄÅ -->\n          <view v-if=\"loading\" class=\"loading-state\">\n            <view class=\"loading-content\">\n              <view class=\"loading-animation\">\n                <view class=\"loading-dot dot-1\"></view>\n                <view class=\"loading-dot dot-2\"></view>\n                <view class=\"loading-dot dot-3\"></view>\n              </view>\n              <text class=\"loading-text\">Ê≠£Âú®Âä†ËΩΩÂ∫óÈì∫Êï∞ÊçÆ...</text>\n            </view>\n          </view>\n        </scroll-view>\n      </view>\n    </view>\n    \n    <!-- Â∫óÈì∫ËØ¶ÊÉÖÂºπÁ™ó -->\n    <uni-popup ref=\"detailPopup\" type=\"center\" background-color=\"transparent\">\n      <view class=\"popup-content\" v-if=\"selectedShop\">\n        <!-- ÂÖ≥Èó≠ÊåâÈíÆ -->\n        <view class=\"close-popup-btn\" @tap=\"closePopup\">\n          <text class=\"close-icon\">√ó</text>\n        </view>\n        \n        <!-- Â∫óÈì∫Â§¥ÈÉ® -->\n        <view class=\"popup-header\">\n          <view class=\"shop-avatar-large\">\n            <image \n              class=\"shop-avatar-img\" \n              :src=\"getShopImage(selectedShop.shopPic || selectedShop.image)\"\n              mode=\"aspectFill\"\n              @error=\"(e) => handleImageError(e, 'shop')\"\n            />\n          </view>\n          <view class=\"shop-basic\">\n            <text class=\"popup-title\">{{ selectedShop.name }}</text>\n            <view class=\"rating-section\">\n              <view class=\"rating-stars\">\n                <text v-for=\"n in 5\" :key=\"n\" class=\"star\" \n                      :class=\"n <= Math.round(parseFloat(getShopRating(selectedShop))) ? 'active' : ''\">‚òÖ</text>\n              </view>\n              <text class=\"rating-text\">{{ getShopRating(selectedShop) }}</text>\n            </view>\n          </view>\n        </view>\n\n        <!-- Â∫óÈì∫‰ø°ÊÅØ -->\n        <view class=\"popup-body\">\n          <!-- Âú∞ÂùÄ‰ø°ÊÅØ -->\n          <view class=\"info-section address-section\">\n            <view class=\"section-header\">\n              <text class=\"section-icon\">üìç</text>\n              <text class=\"section-title\">Â∫óÈì∫Âú∞ÂùÄ</text>\n            </view>\n            <text class=\"address-text\">{{ selectedShop.address }}</text>\n          </view>\n\n          <!-- Ëê•‰∏öÊó∂Èó¥ -->\n          <view class=\"info-section hours-section\">\n            <view class=\"section-header\">\n              <text class=\"section-icon\">üïí</text>\n              <text class=\"section-title\">Ëê•‰∏öÊó∂Èó¥</text>\n            </view>\n            <text class=\"hours-text\">{{ selectedShop.businessHours || '09:00-21:00' }}</text>\n          </view>\n\n          <!-- ËÅîÁ≥ªÁîµËØù -->\n          <view class=\"info-section phone-section\" v-if=\"selectedShop.phone\">\n            <view class=\"section-header\">\n              <text class=\"section-icon\">üìû</text>\n              <text class=\"section-title\">ËÅîÁ≥ªÁîµËØù</text>\n            </view>\n            <text class=\"phone-text\">{{ selectedShop.phone }}</text>\n          </view>\n\n          <!-- Â∫óÈì∫ÊèèËø∞ -->\n          <view class=\"info-section desc-section\" v-if=\"selectedShop.description\">\n            <view class=\"section-header\">\n              <text class=\"section-icon\">üìù</text>\n              <text class=\"section-title\">Â∫óÈì∫‰ªãÁªç</text>\n            </view>\n            <text class=\"desc-text\">{{ selectedShop.description }}</text>\n          </view>\n        </view>\n\n        <!-- Êìç‰ΩúÊåâÈíÆ -->\n        <view class=\"popup-footer\">\n          <button class=\"action-btn detail-btn\" @tap=\"goToShopDetail(selectedShop.id)\">\n            <text class=\"btn-text\">Êü•ÁúãËØ¶ÊÉÖ</text>\n          </button>\n          <button class=\"action-btn nav-btn\" @tap=\"openNavigation\">\n            <text class=\"btn-text\">ÂØºËà™ÂâçÂæÄ</text>\n          </button>\n        </view>\n      </view>\n    </uni-popup>\n  </view>\n</template>\n\n<script setup>\nimport { ref, reactive, onMounted, computed } from 'vue'\nimport { onLoad, onShow } from '@dcloudio/uni-app'\n\n// Âú∞Âõæ‰∏≠ÂøÉÁÇπÔºàÈóΩÂçóÁßëÊäÄÂ≠¶Èô¢Â§ßËá¥ÂùêÊ†áÔºâ\nconst center = reactive({\n  latitude: 25.034161,\n  longitude: 118.482187,\n})\n\nconst scale = ref(15)\nconst markers = ref([])\nconst shops = ref([])\nconst selectedShopId = ref(null)\nconst selectedShop = ref(null)\nconst detailPopup = ref(null)\nconst mapContext = ref(null)\nconst loading = ref(false)\nconst sortBy = ref('default')\n\n// Áî®Êà∑Áõ∏ÂÖ≥\nconst isLoggedIn = ref(false)\nconst userId = ref('')\nconst currentUser = ref(null)\nconst favoriteShops = ref([])\n\n// Áî®‰∫éÂº∫Âà∂Âà∑Êñ∞Âú∞ÂõæÁöÑkey\nconst mapKey = ref(Date.now())\n\n// ÂÆâÂÖ®ÁöÑÊï∞Â≠óÊ†ºÂºèÂåñÂáΩÊï∞\nfunction safeToFixed(value, digits = 1) {\n  if (value === null || value === undefined) return '0.0'\n  const num = parseFloat(value)\n  if (isNaN(num)) return '0.0'\n  return num.toFixed(digits)\n}\n\n// ÂÆâÂÖ®ÁöÑÊï∞Â≠óÊ†ºÂºèÂåñ\nfunction safeFormatNumber(num) {\n  if (num === null || num === undefined) return '0'\n  const number = parseInt(num)\n  if (isNaN(number)) return '0'\n  \n  if (number >= 10000) {\n    return (number / 10000).toFixed(1) + '‰∏á'\n  }\n  return number.toString()\n}\n\n// Ëé∑ÂèñËØÑÂàÜ - Â§ÑÁêÜÂêÑÁßçÂèØËÉΩÁöÑËØÑÂàÜÂ≠óÊÆµ\nfunction getShopRating(shop) {\n  // Â∞ùËØï‰∏çÂêåÁöÑËØÑÂàÜÂ≠óÊÆµ\n  const rating = shop.rating || shop.score || shop.star || 0\n  return safeToFixed(rating)\n}\n\n// ËÆ°ÁÆóÂ±ûÊÄßÔºöÊéíÂ∫èÂêéÁöÑÂ∫óÈì∫ÂàóË°®\nconst sortedShops = computed(() => {\n  if (!shops.value.length) return []\n  \n  const list = [...shops.value]\n  \n  switch (sortBy.value) {\n    case 'rating':\n      return list.sort((a, b) => parseFloat(getShopRating(b)) - parseFloat(getShopRating(a)))\n    case 'sales':\n      return list.sort((a, b) => (parseInt(b.monthlySales) || 0) - (parseInt(a.monthlySales) || 0))\n    default:\n      // ÈªòËÆ§ÊåâË∑ùÁ¶ªÊéíÂ∫èÔºàËøôÈáåÁÆÄÂåñÂ§ÑÁêÜÔºåÂÆûÈôÖÂ∫îËØ•ËÆ°ÁÆóÁúüÂÆûË∑ùÁ¶ªÔºâ\n      return list\n  }\n})\n\nonLoad(() => {\n  console.log('üîÑ Âú∞ÂõæÈ°µÈù¢Âä†ËΩΩ')\n  checkLoginStatus()\n  loadShopsData()\n  mapContext.value = uni.createMapContext('shopMap', this)\n})\n\nonShow(() => {\n  console.log('üîÑ Âú∞ÂõæÈ°µÈù¢ÊòæÁ§∫')\n  checkLoginStatus()\n})\n\n// Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ\nasync function checkLoginStatus() {\n  try {\n    const userInfoFromStorage = uni.getStorageSync('uni-id-pages-userInfo')\n    const token = uni.getStorageSync('uni_id_token')\n    \n    if (token && userInfoFromStorage && userInfoFromStorage._id) {\n      isLoggedIn.value = true\n      userId.value = userInfoFromStorage._id\n      currentUser.value = userInfoFromStorage\n      await loadFavoriteShops()\n    } else {\n      isLoggedIn.value = false\n      userId.value = ''\n      currentUser.value = null\n      favoriteShops.value = []\n    }\n  } catch (error) {\n    console.error('‚ùå Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅÂ§±Ë¥•:', error)\n    isLoggedIn.value = false\n    userId.value = ''\n    currentUser.value = null\n    favoriteShops.value = []\n  }\n}\n\n// Âä†ËΩΩÊî∂ËóèÂ∫óÈì∫\nasync function loadFavoriteShops() {\n  if (!isLoggedIn.value) return\n  \n  try {\n    const articlesCo = uniCloud.importObject('articlesCloudObj')\n    const res = await articlesCo.getShopFavoritesList({\n      page: 1,\n      size: 100,\n      userId: userId.value\n    })\n    \n    if (res.errCode === 0) {\n      favoriteShops.value = res.data.list || []\n    }\n  } catch (error) {\n    console.error('‚ùå Âä†ËΩΩÊî∂ËóèÂ∫óÈì∫Â§±Ë¥•:', error)\n  }\n}\n\n// Ê£ÄÊü•Â∫óÈì∫ÊòØÂê¶Êî∂Ëóè\nfunction isShopFavorite(shopId) {\n  return favoriteShops.value.some(item => item.shopInfo && item.shopInfo._id === shopId)\n}\n\n// ÂàáÊç¢Êî∂ËóèÁä∂ÊÄÅ\nasync function toggleFavorite(shop) {\n  if (!isLoggedIn.value) {\n    uni.showModal({\n      title: 'ÊèêÁ§∫',\n      content: 'ËØ∑ÂÖàÁôªÂΩïÂÜçÊî∂ËóèÂ∫óÈì∫',\n      confirmText: 'ÂéªÁôªÂΩï',\n      cancelText: 'ÂèñÊ∂à',\n      success: (res) => {\n        if (res.confirm) {\n          uni.navigateTo({\n            url: '/pages/login/login'\n          })\n        }\n      }\n    })\n    return\n  }\n  \n  try {\n    const articlesCo = uniCloud.importObject('articlesCloudObj')\n    const res = await articlesCo.toggleShopFavorite({\n      shopId: shop.id,\n      userId: userId.value\n    })\n    \n    if (res.errCode === 0) {\n      await loadFavoriteShops()\n      uni.showToast({\n        title: isShopFavorite(shop.id) ? 'Â∑≤ÂèñÊ∂àÊî∂Ëóè' : 'Êî∂ËóèÊàêÂäü',\n        icon: 'success'\n      })\n    }\n  } catch (error) {\n    console.error('‚ùå ÂàáÊç¢Êî∂ËóèÁä∂ÊÄÅÂ§±Ë¥•:', error)\n    uni.showToast({\n      title: 'Êìç‰ΩúÂ§±Ë¥•',\n      icon: 'none'\n    })\n  }\n}\n\n// Âä†ËΩΩÂ∫óÈì∫Êï∞ÊçÆ\nconst loadShopsData = async () => {\n  try {\n    loading.value = true\n    uni.showLoading({\n      title: 'Âä†ËΩΩ‰∏≠...'\n    })\n    \n    const result = await uniCloud.callFunction({\n      name: 'getShopList',\n      data: {\n        keyword: ''  // Á©∫Â≠óÁ¨¶‰∏≤Ëé∑ÂèñÊâÄÊúâÂ∫óÈì∫\n      }\n    })\n    \n    console.log('üìä ÂéüÂßãÂ∫óÈì∫Êï∞ÊçÆ:', result.result)\n    \n    if (result.result.errCode === 0) {\n      shops.value = result.result.data || []\n      console.log('‚úÖ ÊàêÂäüÂä†ËΩΩÂ∫óÈì∫Êï∞ÊçÆ:', shops.value.length)\n      \n      // ËØ¶ÁªÜÊ£ÄÊü•Êï∞ÊçÆÁªìÊûÑ\n      if (shops.value.length > 0) {\n        console.log('üîç Á¨¨‰∏Ä‰∏™Â∫óÈì∫ÁöÑÂÆåÊï¥Êï∞ÊçÆÁªìÊûÑ:', JSON.stringify(shops.value[0], null, 2))\n        console.log('üìù Â∫óÈì∫Â≠óÊÆµÊ£ÄÊü•:')\n        console.log('   - id:', shops.value[0].id)\n        console.log('   - name:', shops.value[0].name)\n        console.log('   - rating:', shops.value[0].rating, 'Á±ªÂûã:', typeof shops.value[0].rating)\n        console.log('   - monthlySales:', shops.value[0].monthlySales, 'Á±ªÂûã:', typeof shops.value[0].monthlySales)\n        console.log('   - latitude:', shops.value[0].latitude)\n        console.log('   - longitude:', shops.value[0].longitude)\n        console.log('   - address:', shops.value[0].address)\n      }\n      \n      await initMapMarkers()\n    } else {\n      throw new Error(result.result.errMsg)\n    }\n  } catch (error) {\n    console.error('‚ùå Âä†ËΩΩÂ∫óÈì∫Êï∞ÊçÆÂ§±Ë¥•:', error)\n    uni.showToast({\n      title: 'Âä†ËΩΩÂ§±Ë¥•',\n      icon: 'none'\n    })\n    // ÈôçÁ∫ßÂ§ÑÁêÜÔºö‰ΩøÁî®Á©∫Êï∞ÁªÑ\n    shops.value = []\n  } finally {\n    loading.value = false\n    uni.hideLoading()\n  }\n}\n\n// ÂàùÂßãÂåñÂú∞ÂõæÊ†áËÆ∞\nconst initMapMarkers = async () => {\n  // ËøáÊª§ÊéâÊ≤°ÊúâÂùêÊ†áÁöÑÂ∫óÈì∫\n  const validShops = shops.value.filter(shop => {\n    const hasCoords = shop.latitude && shop.longitude && shop.latitude !== 0 && shop.longitude !== 0\n    if (!hasCoords) {\n      console.log('‚ùå Â∫óÈì∫ÂùêÊ†áÊó†Êïà:', shop.name, shop.latitude, shop.longitude)\n    }\n    return hasCoords\n  })\n  \n  console.log('üó∫Ô∏è ÊúâÊïàÂ∫óÈì∫Êï∞Èáè:', validShops.length)\n  \n  // ÂàõÂª∫Ê†áËÆ∞ - ‰ΩøÁî®ÂÆâÂÖ®ÁöÑÊ†ºÂºèÂåñÂáΩÊï∞\n  markers.value = validShops.map(shop => ({\n    id: shop.id,\n    latitude: parseFloat(shop.latitude),\n    longitude: parseFloat(shop.longitude),\n    title: shop.name,\n    iconPath: '/static/logo/local.png',\n    width: 20,\n    height: 20,\n    callout: {\n      content: `${shop.name}\\n‚≠ê${getShopRating(shop)} | ÊúàÂîÆ${safeFormatNumber(shop.monthlySales)}Âçï`,\n      color: '#333',\n      fontSize: 12,\n      borderRadius: 8,\n      bgColor: '#fff',\n      padding: 8,\n      display: 'ALWAYS',\n      textAlign: 'center'\n    }\n  }))\n  \n  console.log('üó∫Ô∏è ÂàùÂßãÂåñÂú∞ÂõæÊ†áËÆ∞:', markers.value.length)\n  \n  // Âº∫Âà∂Âà∑Êñ∞Âú∞Âõæ\n  mapKey.value = Date.now()\n}\n\nconst onMarkerTap = (e) => {\n  const markerId = e.detail.markerId\n  const shop = shops.value.find(s => s.id === markerId)\n  if (shop) {\n    selectedShopId.value = markerId\n    showShopDetail(shop)\n  }\n}\n\nconst onShopItemTap = (shop) => {\n  selectedShopId.value = shop.id\n  selectedShop.value = shop\n  // ÁßªÂä®Âú∞ÂõæÂà∞ÂïÜÂÆ∂‰ΩçÁΩÆ\n  focusOnShopLocation(shop)\n  showShopDetail(shop)\n}\n\nconst focusOnShopLocation = (shop = null) => {\n  const targetShop = shop || selectedShop.value\n  if (!targetShop || !targetShop.latitude || !targetShop.longitude) return\n  \n  // ÁßªÂä®Âú∞ÂõæËßÜËßíÂà∞ÈÄâ‰∏≠ÁöÑÂ∫óÈì∫\n  center.latitude = parseFloat(targetShop.latitude)\n  center.longitude = parseFloat(targetShop.longitude)\n  scale.value = 18 // ÊîæÂ§ßÁ∫ßÂà´\n}\n\nconst showShopDetail = (shop) => {\n  selectedShop.value = shop\n  detailPopup.value.open()\n}\n\nconst closePopup = () => {\n  detailPopup.value.close()\n}\n\nconst backToCurrentLocation = () => {\n  // ÂõûÂà∞ÂàùÂßã‰∏≠ÂøÉÁÇπ\n  center.latitude = 25.034161\n  center.longitude = 118.482187\n  scale.value = 15\n  selectedShopId.value = null\n}\n\n// Âú∞ÂõæÁº©ÊîæÊéßÂà∂\nconst zoomIn = () => {\n  if (scale.value < 20) {\n    scale.value += 1\n  }\n}\n\nconst zoomOut = () => {\n  if (scale.value > 3) {\n    scale.value -= 1\n  }\n}\n\n// ÊéíÂ∫èÊéßÂà∂\nconst changeSort = (type) => {\n  sortBy.value = type\n}\n\n// ÊâìÂºÄÂØºËà™\nconst openNavigation = () => {\n  if (!selectedShop.value || !selectedShop.value.latitude) {\n    uni.showToast({\n      title: 'Êó†Ê≥ïËé∑ÂèñÂ∫óÈì∫‰ΩçÁΩÆ',\n      icon: 'none'\n    })\n    return\n  }\n  \n  uni.openLocation({\n    latitude: parseFloat(selectedShop.value.latitude),\n    longitude: parseFloat(selectedShop.value.longitude),\n    name: selectedShop.value.name,\n    address: selectedShop.value.address,\n    success: () => {\n      console.log('ÊâìÂºÄÂú∞ÂõæÊàêÂäü')\n    },\n    fail: (error) => {\n      console.error('ÊâìÂºÄÂú∞ÂõæÂ§±Ë¥•:', error)\n      uni.showToast({\n        title: 'ÊâìÂºÄÂú∞ÂõæÂ§±Ë¥•',\n        icon: 'none'\n      })\n    }\n  })\n}\n\n// ÂçïÁã¨ÊâìÂºÄÂ∫óÈì∫ÂØºËà™\nconst openShopNavigation = (shop) => {\n  if (!shop || !shop.latitude) {\n    uni.showToast({\n      title: 'Êó†Ê≥ïËé∑ÂèñÂ∫óÈì∫‰ΩçÁΩÆ',\n      icon: 'none'\n    })\n    return\n  }\n  \n  uni.openLocation({\n    latitude: parseFloat(shop.latitude),\n    longitude: parseFloat(shop.longitude),\n    name: shop.name,\n    address: shop.address,\n    success: () => {\n      console.log('ÊâìÂºÄÂú∞ÂõæÊàêÂäü')\n    },\n    fail: (error) => {\n      console.error('ÊâìÂºÄÂú∞ÂõæÂ§±Ë¥•:', error)\n      uni.showToast({\n        title: 'ÊâìÂºÄÂú∞ÂõæÂ§±Ë¥•',\n        icon: 'none'\n      })\n    }\n  })\n}\n\n// Ë∑≥ËΩ¨Âà∞Â∫óÈì∫ËØ¶ÊÉÖÈ°µÈù¢\nconst goToShopDetail = (shopId) => {\n  if (!shopId) {\n    uni.showToast({\n      title: 'Â∫óÈì∫‰ø°ÊÅØ‰∏çÂÆåÊï¥',\n      icon: 'none'\n    })\n    return\n  }\n\n  const url = `/pages/shopList/shopDetail?id=${shopId}`\n  \n  console.log('üîÑ Ë∑≥ËΩ¨Âà∞Â∫óÈì∫ËØ¶ÊÉÖ:', { shopId, url })\n  \n  closePopup()\n  \n  uni.navigateTo({\n    url: url,\n    success: () => {\n      console.log('‚úÖ Ë∑≥ËΩ¨Âà∞Â∫óÈì∫ËØ¶ÊÉÖÈ°µÊàêÂäü')\n    },\n    fail: (err) => {\n      console.error('‚ùå Ë∑≥ËΩ¨Â§±Ë¥•:', err)\n      uni.showToast({\n        title: 'Ë∑≥ËΩ¨Â§±Ë¥•ÔºåËØ∑ÈáçËØï',\n        icon: 'none'\n      })\n    }\n  })\n}\n\n// Ë∑≥ËΩ¨Âà∞Áî®Êà∑‰∏≠ÂøÉ\nfunction goToUserCenter() {\n  uni.navigateTo({\n    url: '/pages/user/user'\n  })\n}\n\n// Ëé∑ÂèñÂ∫óÈì∫ÂõæÁâáURL\nfunction getShopImage(shopPic) {\n  if (!shopPic) {\n    return '/static/default-shop.jpg'\n  }\n  \n  // Â§ÑÁêÜÂõæÁâáURLÔºåÁ°Æ‰øùÊòØÂÆåÊï¥ÁöÑURL\n  if (shopPic.startsWith('http')) {\n    return shopPic\n  } else if (shopPic.startsWith('/')) {\n    return `https://your-domain.com${shopPic}`\n  } else {\n    return `/static/shop-images/${shopPic}`\n  }\n}\n\n// ÂõæÁâáÂä†ËΩΩÈîôËØØÂ§ÑÁêÜ\nfunction handleImageError(e, type = 'shop') {\n  console.log('üñºÔ∏è ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•:', e, 'Á±ªÂûã:', type)\n  \n  const defaultImages = {\n    shop: '/static/default-shop.jpg',\n    user: '/static/default-avatar.png'\n  }\n  \n  // ËÆæÁΩÆÈªòËÆ§ÂõæÁâá\n  if (e.target) {\n    e.target.src = defaultImages[type] || defaultImages.shop\n    // Â¶ÇÊûúÈªòËÆ§ÂõæÁâá‰πüÂä†ËΩΩÂ§±Ë¥•Ôºå‰ΩøÁî®emojiÊõø‰ª£\n    e.target.onerror = null // Èò≤Ê≠¢Âæ™ÁéØÈîôËØØ\n  }\n}\n\nconst onRegionChange = (e) => {\n  // ÂèØ‰ª•Âú®ËøôÈáåÊ∑ªÂä†‰∏Ä‰∫õË∞ÉËØï‰ø°ÊÅØ\n  if (e.type === 'end') {\n    console.log('üó∫Ô∏è Âú∞ÂõæÂå∫ÂüüÂèòÂåñÁªìÊùüÔºåÂΩìÂâçÊ†áËÆ∞Êï∞Èáè:', markers.value.length)\n  }\n}\n</script>\n\n<style scoped>\n/* Êï¥‰ΩìÂ∏ÉÂ±Ä */\n.container {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n}\n\n.map-container {\n  flex: 1;\n  position: relative;\n  overflow: hidden;\n}\n\n.map {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n/* È°∂ÈÉ®Áä∂ÊÄÅÊ†è */\n.top-bar {\n  position: absolute;\n  top:10rpx;\n  left: 10rpx;\n  right: 10rpx;\n  padding: var(--status-bar-height) 0 0;\n  background: transparent;\n  z-index: 1000;\n}\n\n.header-content {\n  padding: 30rpx;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20rpx);\n  border-radius: 0 0 30rpx 30rpx;\n  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.1);\n}\n\n.user-section {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n  gap: 20rpx;\n}\n\n.avatar {\n  width: 80rpx;\n  height: 80rpx;\n  border-radius: 20rpx;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 8rpx 20rpx rgba(102, 126, 234, 0.3);\n  overflow: hidden;\n}\n\n.avatar-img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.avatar-icon {\n  font-size: 36rpx;\n}\n\n.user-text {\n  display: flex;\n  flex-direction: column;\n}\n\n.username {\n  font-size: 32rpx;\n  font-weight: 700;\n  color: #2d3748;\n  margin-bottom: 4rpx;\n}\n\n.user-desc {\n  font-size: 24rpx;\n  color: #718096;\n}\n\n.stats-badge {\n  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n  padding: 16rpx 24rpx;\n  border-radius: 20rpx;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  box-shadow: 0 8rpx 20rpx rgba(255, 107, 107, 0.3);\n}\n\n.stats-count {\n  font-size: 28rpx;\n  font-weight: 700;\n  color: white;\n}\n\n.stats-label {\n  font-size: 22rpx;\n  color: rgba(255, 255, 255, 0.9);\n  margin-top: 4rpx;\n}\n\n/* Âú∞ÂõæÊéßÂà∂ÊåâÈíÆÁªÑ */\n.map-controls {\n  position: absolute;\n  bottom: 90rpx;\n  right: 30rpx;\n  z-index: 1000;\n}\n\n.control-group {\n  display: flex;\n  flex-direction: column;\n  gap: 20rpx;\n}\n\n.location-btn {\n  width: 100rpx;\n  height: 100rpx;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20rpx);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 8rpx 25rpx rgba(0, 0, 0, 0.15);\n}\n\n.zoom-controls {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20rpx);\n  border-radius: 25rpx;\n  overflow: hidden;\n  box-shadow: 0 8rpx 25rpx rgba(0, 0, 0, 0.15);\n}\n\n.zoom-btn {\n  width: 100rpx;\n  height: 80rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 0.9);\n}\n\n.zoom-btn:first-child {\n  border-bottom: 1rpx solid #f1f5f9;\n}\n\n.zoom-icon {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #4a5568;\n}\n\n/* Â∫óÈì∫ÂàóË°®ÂÆπÂô® */\n.shop-list-container {\n  height: 42vh;\n  background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);\n  border-radius: 40rpx 40rpx 0 0;\n  position: relative;\n  z-index: 10;\n  margin-top: -30rpx;\n  box-shadow: 0 -20rpx 50rpx rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n/* ÂàóË°®Â§¥ÈÉ® */\n.list-header {\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);\n  padding: 40rpx 30rpx 30rpx;\n  border-bottom: 1rpx solid rgba(255, 255, 255, 0.8);\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.05);\n}\n\n.header-content {\n  background: transparent;\n  box-shadow: none;\n  padding: 0;\n}\n\n.title-section {\n  margin-bottom: 30rpx;\n}\n\n.main-title {\n  font-size: 42rpx;\n  font-weight: 800;\n  color: #1a202c;\n  display: block;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  margin-bottom: 8rpx;\n}\n\n.sub-title {\n  font-size: 26rpx;\n  color: #a0aec0;\n  font-weight: 500;\n  letter-spacing: 1rpx;\n}\n\n.filter-section {\n  margin-top: 20rpx;\n}\n\n.filter-tabs {\n  display: flex;\n  gap: 16rpx;\n  background: rgba(255, 255, 255, 0.8);\n  border-radius: 25rpx;\n  padding: 8rpx;\n  backdrop-filter: blur(10rpx);\n  border: 1rpx solid rgba(255, 255, 255, 0.5);\n  box-shadow: 0 4rpx 15rpx rgba(0, 0, 0, 0.05);\n}\n\n.filter-tab {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8rpx;\n  padding: 20rpx 16rpx;\n  border-radius: 20rpx;\n  font-size: 24rpx;\n  color: #718096;\n  transition: all 0.3s ease;\n  background: transparent;\n}\n\n.filter-tab.active {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  box-shadow: 0 6rpx 20rpx rgba(102, 126, 234, 0.3);\n}\n\n.tab-icon {\n  font-size: 22rpx;\n}\n\n/* ÂàóË°®ÂÜÖÂÆπ */\n.list-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.list-scroll {\n  height: 100%;\n  flex: 1;\n}\n\n/* Â∫óÈì∫Âç°ÁâáÁΩëÊ†º */\n.shop-cards {\n  padding: 30rpx;\n  display: flex;\n  flex-direction: column;\n  gap: 30rpx;\n}\n\n.shop-card {\n  background: linear-gradient(135deg, #ffffff 0%, #f7fafc 100%);\n  border-radius: 28rpx;\n  padding: 0;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 8rpx 30rpx rgba(0, 0, 0, 0.08);\n  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n  border: 1rpx solid rgba(255, 255, 255, 0.8);\n}\n\n.shop-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 4rpx;\n  background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.shop-card.active {\n  transform: translateY(-8rpx) scale(1.02);\n  box-shadow: 0 20rpx 50rpx rgba(102, 126, 234, 0.25);\n}\n\n.shop-card.active::before {\n  opacity: 1;\n}\n\n.shop-card:active {\n  transform: scale(0.98);\n}\n\n/* Âç°ÁâáÂÜÖÂÆπ */\n.card-content {\n  padding: 40rpx 35rpx 35rpx;\n  position: relative;\n  z-index: 2;\n}\n\n/* Âç°ÁâáÂ§¥ÈÉ® */\n.card-header {\n  margin-bottom: 20rpx;\n}\n\n.shop-meta {\n  display: flex;\n  align-items: flex-start;\n  gap: 20rpx;\n}\n\n/* Â∫óÈì∫Â§¥ÂÉèÊ†∑Âºè */\n.shop-rank {\n  width: 180rpx;\n  height: 180rpx;\n  border-radius: 20rpx;\n  overflow: hidden;\n  flex-shrink: 0;\n  box-shadow: 0 8rpx 20rpx rgba(0, 0, 0, 0.15);\n  border: 4rpx solid white;\n}\n\n.shop-avatar {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.shop-main {\n  flex: 1;\n  min-width: 0;\n}\n\n/* Ê†áÈ¢òÂíåËØÑÂàÜÂπ∂ÊéíÊòæÁ§∫ */\n.title-rating-row {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16rpx;\n  gap: 16rpx;\n}\n\n.shop-name {\n  font-size: 30rpx;\n  font-weight: 700;\n  color: #2d3748;\n  line-height: 1.3;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  flex: 1;\n  min-width: 0;\n}\n\n.rating-tag {\n  background: linear-gradient(135deg, #fffaf0 0%, #fed7aa 100%);\n  padding: 8rpx 16rpx;\n  border-radius: 15rpx;\n  display: flex;\n  align-items: center;\n  gap: 6rpx;\n  border: 1rpx solid #fed7aa;\n  box-shadow: 0 4rpx 12rpx rgba(254, 215, 170, 0.3);\n  flex-shrink: 0;\n}\n\n.rating-icon {\n  font-size: 18rpx;\n}\n\n.rating-value {\n  font-size: 18rpx;\n  color: #d69e2e;\n  font-weight: 600;\n}\n\n/* Âú∞ÂùÄ‰ø°ÊÅØÊ†∑ÂºèË∞ÉÊï¥ */\n.info-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 12rpx;\n  padding: 12rpx 0;\n}\n\n.info-icon {\n  font-size: 24rpx;\n  flex-shrink: 0;\n  margin-top: 2rpx;\n}\n\n.info-text {\n  font-size: 24rpx;\n  color: #718096;\n  line-height: 1.4;\n  flex: 1;\n}\n\n/* Âç°ÁâáÂ∫ïÈÉ®Ë∞ÉÊï¥ */\n.card-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 16rpx;\n}\n\n.stats-section {\n  display: flex;\n  align-items: center;\n  gap: 20rpx;\n}\n\n.stat {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4rpx;\n}\n\n.stat-value {\n  font-size: 18rpx;\n  font-weight: 700;\n  color: #2d3748;\n}\n\n.stat-label {\n  font-size: 20rpx;\n  color: #a0aec0;\n}\n\n.stat-divider {\n  width: 2rpx;\n  height: 30rpx;\n  background: #e2e8f0;\n}\n\n.action-section {\n  display: flex;\n  align-items: center;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 12rpx;\n}\n\n/* Êìç‰ΩúÊåâÈíÆÂõæÊ†áÊ†∑Âºè */\n.action-btn {\n  width: 50rpx;\n  height: 50rpx;\n  border-radius: 8rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  box-shadow: 0 6rpx 18rpx rgba(0, 0, 0, 0.1);\n  position: relative;\n  overflow: hidden;\n  border: none;\n}\n\n.action-btn::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.2);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.action-btn:active::before {\n  opacity: 1;\n}\n\n.action-btn:active {\n  transform: scale(0.92);\n}\n\n/* ‰øÆÂ§çÊåâÈíÆËÉåÊôØËâ≤ */\n.detail-btn {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;\n}\n\n.navigate-btn {\n  background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%) !important;\n}\n\n.favorite-btn {\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%) !important;\n}\n\n.action-icon {\n  font-size: 24rpx;\n  color: white;\n}\n\n/* Á©∫Áä∂ÊÄÅÊ†∑Âºè */\n.empty-state {\n  text-align: center;\n  padding: 120rpx 40rpx;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.empty-illustration {\n  position: relative;\n  margin-bottom: 40rpx;\n}\n\n.empty-icon {\n  font-size: 120rpx;\n  margin-bottom: 20rpx;\n  opacity: 0.8;\n}\n\n.empty-stars {\n  display: flex;\n  gap: 16rpx;\n  justify-content: center;\n}\n\n.star {\n  font-size: 24rpx;\n  opacity: 0.6;\n  animation: twinkle 2s infinite;\n}\n\n.star:nth-child(2) {\n  animation-delay: 0.5s;\n}\n\n.star:nth-child(3) {\n  animation-delay: 1s;\n}\n\n@keyframes twinkle {\n  0%, 100% { opacity: 0.6; transform: scale(1); }\n  50% { opacity: 1; transform: scale(1.2); }\n}\n\n.empty-title {\n  font-size: 36rpx;\n  font-weight: 700;\n  color: #2d3748;\n  margin-bottom: 20rpx;\n}\n\n.empty-desc {\n  font-size: 26rpx;\n  color: #718096;\n  margin-bottom: 50rpx;\n  line-height: 1.5;\n  text-align: center;\n  max-width: 400rpx;\n}\n\n.empty-btn {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 50rpx;\n  padding: 24rpx 60rpx;\n  font-size: 28rpx;\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  margin: 0 auto;\n  box-shadow: 0 12rpx 30rpx rgba(102, 126, 234, 0.4);\n  transition: all 0.3s ease;\n}\n\n.empty-btn:active {\n  transform: scale(0.95);\n  box-shadow: 0 6rpx 20rpx rgba(102, 126, 234, 0.4);\n}\n\n/* Âä†ËΩΩÁä∂ÊÄÅ */\n.loading-state {\n  padding: 100rpx 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.loading-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 30rpx;\n}\n\n.loading-animation {\n  display: flex;\n  gap: 12rpx;\n}\n\n.loading-dot {\n  width: 20rpx;\n  height: 20rpx;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  animation: bounce 1.4s infinite ease-in-out;\n}\n\n.loading-dot.dot-1 { animation-delay: -0.32s; }\n.loading-dot.dot-2 { animation-delay: -0.16s; }\n\n@keyframes bounce {\n  0%, 80%, 100% {\n    transform: scale(0.8);\n    opacity: 0.5;\n  }\n  40% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n.loading-text {\n  font-size: 26rpx;\n  color: #718096;\n  font-weight: 500;\n}\n\n/* ÂºπÁ™óÊ†∑Âºè */\n.popup-content {\n  width: 85vw;\n  max-width: 700rpx;\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);\n  border-radius: 28rpx;\n  padding: 40rpx 32rpx 32rpx;\n  position: relative;\n  box-shadow: 0 25rpx 70rpx rgba(0, 0, 0, 0.2);\n  border: 1rpx solid rgba(255, 255, 255, 0.3);\n  z-index: 9999;\n}\n\n.close-popup-btn {\n  position: absolute;\n  top: 20rpx;\n  right: 20rpx;\n  width: 60rpx;\n  height: 60rpx;\n  border-radius: 50%;\n  background: rgba(0, 0, 0, 0.05);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10;\n  transition: all 0.3s ease;\n}\n\n.close-popup-btn:active {\n  background: rgba(0, 0, 0, 0.1);\n  transform: scale(0.9);\n}\n\n.close-icon {\n  font-size: 36rpx;\n  color: #666;\n  font-weight: 300;\n}\n\n.popup-header {\n  display: flex;\n  align-items: center;\n  gap: 20rpx;\n  margin-bottom: 32rpx;\n  padding-bottom: 24rpx;\n  border-bottom: 1rpx solid rgba(0, 0, 0, 0.08);\n}\n\n/* ÂºπÁ™ó‰∏≠ÁöÑÂ∫óÈì∫Â§¥ÂÉè */\n.shop-avatar-large {\n  width: 140rpx;\n  height: 140rpx;\n  border-radius: 24rpx;\n  overflow: hidden;\n  flex-shrink: 0;\n  box-shadow: 0 12rpx 30rpx rgba(0, 0, 0, 0.2);\n  border: 6rpx solid white;\n}\n\n.shop-avatar-img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.shop-basic {\n  flex: 1;\n  min-width: 0;\n}\n\n.popup-title {\n  font-size: 34rpx;\n  font-weight: 700;\n  color: #1a1a1a;\n  display: block;\n  margin-bottom: 16rpx;\n  line-height: 1.3;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.rating-section {\n  display: flex;\n  align-items: center;\n  gap: 16rpx;\n}\n\n.rating-stars {\n  display: flex;\n  gap: 4rpx;\n}\n\n.star {\n  font-size: 24rpx;\n  color: #e5e7eb;\n}\n\n.star.active {\n  color: #ffb800;\n}\n\n.rating-text {\n  font-size: 26rpx;\n  font-weight: 600;\n  color: #ffb800;\n}\n\n.popup-body {\n  max-height: 50vh;\n  overflow-y: auto;\n  margin-bottom: 20rpx;\n}\n\n.info-section {\n  margin-bottom: 28rpx;\n  padding: 20rpx;\n  background: rgba(255, 255, 255, 0.6);\n  border-radius: 16rpx;\n  border: 1rpx solid rgba(0, 0, 0, 0.05);\n}\n\n.section-header {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  margin-bottom: 12rpx;\n}\n\n.section-icon {\n  font-size: 24rpx;\n}\n\n.section-title {\n  font-size: 28rpx;\n  font-weight: 600;\n  color: #374151;\n}\n\n.address-text {\n  font-size: 26rpx;\n  color: #6b7280;\n  line-height: 1.5;\n  display: block;\n}\n\n.hours-text {\n  font-size: 26rpx;\n  color: #059669;\n  font-weight: 500;\n  display: block;\n}\n\n.phone-text {\n  font-size: 26rpx;\n  color: #3b82f6;\n  font-weight: 500;\n  display: block;\n}\n\n.desc-text {\n  font-size: 26rpx;\n  color: #6b7280;\n  line-height: 1.6;\n  display: block;\n}\n\n/* ÂºπÁ™óÂ∫ïÈÉ®ÊåâÈíÆÊ†∑Âºè‰øÆÂ§ç */\n.popup-footer {\n  display: flex;\n  gap: 20rpx;\n  margin-top: 20rpx;\n}\n\n.popup-footer .action-btn {\n  height: 88rpx;\n  font-size: 28rpx;\n  font-weight: 600;\n  flex: 1;\n  border-radius: 20rpx;\n  box-shadow: 0 8rpx 20rpx rgba(0, 0, 0, 0.15);\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8rpx;\n}\n\n/* ÂºπÁ™óÊåâÈíÆËÉåÊôØËâ≤ */\n.popup-footer .detail-btn {\n  background: linear-gradient(135deg, #FF6B35, #FF8C42) !important;\n}\n\n.popup-footer .nav-btn {\n  background: linear-gradient(135deg, #3b82f6, #1d4ed8) !important;\n}\n\n.popup-footer .btn-text {\n  font-size: 28rpx;\n  font-weight: 600;\n  color: white;\n}\n\n/* Á°Æ‰øùÊåâÈíÆÊñáÊú¨È¢úËâ≤ */\n.btn-text {\n  color: white !important;\n  font-size: 28rpx;\n  font-weight: 600;\n}\n\n/* ÈöêËóèÈ´òÂæ∑Âú∞Âõæslogan */\n:deep(.amap-logo) {\n  display: none !important;\n}\n\n:deep(.amap-copyright) {\n  display: none !important;\n}\n\n/* ÂìçÂ∫îÂºèË∞ÉÊï¥ */\n@media (max-width: 750rpx) {\n  .shop-list-container {\n    height: 50vh;\n  }\n  \n  .card-footer {\n    flex-direction: column;\n    gap: 25rpx;\n    align-items: stretch;\n  }\n  \n  .stats-section {\n    justify-content: space-around;\n  }\n  \n  .action-buttons {\n    justify-content: center;\n    flex-wrap: wrap;\n  }\n  \n  .filter-tabs {\n    flex-wrap: wrap;\n  }\n  \n  .filter-tab {\n    flex: none;\n    width: calc(50% - 8rpx);\n  }\n  \n  .action-btn {\n    width: 70rpx;\n    height: 70rpx;\n  }\n  \n  .action-icon {\n    font-size: 28rpx;\n  }\n  \n  .shop-rank {\n    width: 100rpx;\n    height: 100rpx;\n  }\n  \n  .title-rating-row {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 12rpx;\n  }\n  \n  .rating-tag {\n    align-self: flex-start;\n  }\n}\n\n/* ÊÄßËÉΩ‰ºòÂåñ */\n@media (prefers-reduced-motion: reduce) {\n  .decoration-shape {\n    animation: none !important;\n  }\n}\n</style>","import MiniProgramPage from 'D:/uni-app/uniCloudDemo0717/pages/showMap/showMap.vue'\nwx.createPage(MiniProgramPage)"],"names":["reactive","ref","computed","onLoad","uni","onShow","uniCloud"],"mappings":"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"}