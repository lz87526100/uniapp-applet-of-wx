{"version":3,"file":"demo0719.js","sources":["pages/demo0719/demo0719.vue","E:/movie/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGVtbzA3MTkvZGVtbzA3MTkudnVl"],"sourcesContent":["<template>\n    <view class=\"layout\">\r\n        <uni-file-picker\r\n        v-model=\"formData.avatar\"\r\n        mode=\"grid\"\r\n        fileMediatype=\"image\"\r\n        limit=\"1\"\r\n        ></uni-file-picker>\n        <input v-model=\"formData.name\" placeholder=\"请输入姓名\"/>\r\n        <input v-model.number=\"formData.age\" type=\"number\" placeholder=\"请输入年龄\"/>\n        <button @click=\"handleAdd\">新增</button>\r\n    </view>\r\n</template>\n\n<script setup>\r\n    import { ref } from 'vue';\r\n    \r\n    const formData = ref({\r\n        name:\"\",\r\n        age:\"\",\r\n        avatar:[]//存放头像\r\n    })\r\n    \r\n    \r\n    const db = uniCloud.database();\r\n    \n    const handleAdd = async () =>{\r\n        uni.showLoading({\r\n            title:'加载中'\r\n        })\r\n  \r\n  try{\r\n      let res = await db.collection(\"demo-user\").add(formData.value)\r\n       if(res.result.errCode == 0){\r\n           console.log(res);\r\n           uni.showToast({\r\n               title:'新增成功'\r\n           })\r\n           formData.value={\r\n              name:\"\",\r\n              age:\"\",\r\n              avatar:[] \r\n           }\r\n       }\r\n  }catch(err){\r\n    console.log(err);\r\n      uni.showModal({\r\n          title:'添加失败',\r\n          content:err.errMsg,\r\n          showCancel:false\r\n      })\r\n  }finally{\r\n      uni.hideLoading();\r\n      console.log(typeof formData.value.age, formData.value.age);\r\n  }\r\n    }\r\n</script>\n\n<style lang=\"scss\" scoped>\n.layout{\r\n    padding: 30rpx;\r\n    input{\r\n        border: 1px solid #eee;\r\n        margin-bottom: 30rpx;\r\n        height: 50rpx;\r\n        margin-top: 30rpx;\r\n    };\r\n}\r\n\n</style>\n","import MiniProgramPage from 'D:/uni-app/uniCloudDemo0717/pages/demo0719/demo0719.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uniCloud","uni"],"mappings":";;;;;;;;;;;;;AAiBI,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACjB,MAAK;AAAA,MACL,KAAI;AAAA,MACJ,QAAO,CAAE;AAAA;AAAA,IACjB,CAAK;AAGD,UAAM,KAAKC,iBAAS;AAEpB,UAAM,YAAY,YAAW;AACzBC,oBAAAA,MAAI,YAAY;AAAA,QACZ,OAAM;AAAA,MAClB,CAAS;AAEP,UAAG;AACC,YAAI,MAAM,MAAM,GAAG,WAAW,WAAW,EAAE,IAAI,SAAS,KAAK;AAC5D,YAAG,IAAI,OAAO,WAAW,GAAE;AACvBA,wBAAAA,wDAAY,GAAG;AACfA,wBAAAA,MAAI,UAAU;AAAA,YACV,OAAM;AAAA,UACrB,CAAY;AACD,mBAAS,QAAM;AAAA,YACZ,MAAK;AAAA,YACL,KAAI;AAAA,YACJ,QAAO,CAAE;AAAA,UACX;AAAA,QACJ;AAAA,MACL,SAAM,KAAI;AACTA,sBAAAA,MAAA,MAAA,OAAA,qCAAY,GAAG;AACbA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAM;AAAA,UACN,SAAQ,IAAI;AAAA,UACZ,YAAW;AAAA,QACrB,CAAO;AAAA,MACP,UAAG;AACGA,sBAAG,MAAC,YAAW;AACfA,sBAAAA,wDAAY,OAAO,SAAS,MAAM,KAAK,SAAS,MAAM,GAAG;AAAA,MAC5D;AAAA,IACE;;;;;;;;;;;;;;;;;;;;;;ACtDL,GAAG,WAAW,eAAe;"}